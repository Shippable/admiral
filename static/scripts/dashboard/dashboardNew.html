<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu" style="position: fixed;">
  <div class="sidebar-inner">

    <div id="sidebar-menu">
      <ul>
        <li>
          <a href="#control-plane" class="waves-effect waves-primary" ng-class="{active: vm.sectionSelected === 'infrastructure'}" ng-click="vm.changeSection('infrastructure')">
            <i class="md md-dashboard"></i><span> Control plane </span>
          </a>
        </li>
        <li>
          <a href="#build-plane" class="waves-effect waves-primary" ng-class="{active: vm.sectionSelected === 'config'}" ng-click="vm.changeSection('config')">
            <i class="md md-palette"></i> <span> Build plane </span>
          </a>
        </li>
        <li>
          <a href="#addons-panel" class="waves-effect waves-primary"  ng-class="{active: vm.sectionSelected === 'addons'}" ng-click="vm.changeSection('addons')">
            <i class="md md-invert-colors-on"></i><span> Add-ons </span>
          </a>
        </li>
        <li>
          <a href="#system-settings-panel" class="waves-effect waves-primary"  ng-class="{active: vm.sectionSelected === 'system'}" ng-click="vm.changeSection('system')">
            <i class="md md-settings"></i><span> System Settings </span>
          </a>
        </li>
      </ul>
      <div class="clearfix"></div>
    </div>
    <div class="clearfix"></div>
  </div>

  <div class="user-detail" style="position: absolute; bottom: 0;">
    <div class="dropup">
      <span class="user-info-span">
        <button class="btn btn-md" type="submit" ng-click="vm.logOutOfAdmiral($event)">
          <i class="md md-settings-power"></i>Logout
        </button>
      </span>
    </div>
  </div>

</div>
<!-- Left Sidebar End -->


<!-- ============================================================== -->
<!-- Start right Content here -->
<!-- ============================================================== -->
<div class="content-page">
  <!-- Start content -->
  <div class="content">
    <div class="container">

      <section id="infrastructure" ng-if="vm.sectionSelected === 'infrastructure'">
        <!-- Page-Title -->
        <div class="row">
          <div class="col-md-12">
            <div class="page-title-box">
              <h4 class="page-title">Control Plane</h4>
            </div>
          </div>
        </div>
        <!-- end row -->

        <div class="row">
          <div class="col-md-12">
            <div class="card-box">
              <h4 class="header-title m-t-0"><b>SUMMARY</b></h4>
              <p>
                <label class="control-label">All Nodes</label>
                <table class="table table-bordered m-0">
                  <thead>
                    <tr>
                      <th>Nodes</th>
                      <th>Admiral</th>
                      <th>Database</th>
                      <th>Swarm Master</th>
                      <th ng-show="vm.initializeForm.workers.workers.length">Swarm Workers</th>
                      <th>Secrets</th>
                      <th>Messaging</th>
                      <th>State</th>
                      <th>Redis</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr ng-repeat="(addr, node) in vm.allNodes">
                      <td>{{addr}}</td>
                      <td class="text-center">
                        <i class="fa fa-check" style="color: green;" ng-if="node|contains:'admiral'"></i>
                      </td>
                      <td class="text-center">
                        <i class="fa fa-check" style="color: green;" ng-if="(node|contains:'db') && vm.systemSettings.db.isInstalled && vm.systemSettings.db.isInitialized && !vm.systemSettings.db.isFailed"></i>
                        <i class="fa fa-times" style="color: red;" ng-if="(node|contains:'db') && vm.systemSettings.db.isFailed"></i>
                      </td>
                      <td class="text-center">
                        <i class="fa fa-check" style="color: green;" ng-if="(node|contains:'master') && vm.systemSettings.master.isInstalled && vm.systemSettings.master.isInitialized"></i>
                        <i class="fa fa-times" style="color: red;" ng-if="(node|contains:'master') && vm.systemSettings.master.isFailed"></i>
                      </td>
                      <td class="text-center" ng-show="vm.initializeForm.workers.workers.length">
                        <i class="fa fa-check" style="color: green;" ng-if="(node|contains:'worker') && vm.systemSettings.workers[0].isInstalled && vm.systemSettings.workers[0].isInitialized"></i>
                        <i class="fa fa-times" style="color: red;" ng-if="(node|contains:'worker') && vm.systemSettings.workers[0].isFailed"></i>
                      </td>
                      <td class="text-center">
                        <i class="fa fa-check" style="color: green;" ng-if="(node|contains:'secrets') && vm.systemSettings.secrets.isInstalled && vm.systemSettings.secrets.isInitialized"></i>
                        <i class="fa fa-times" style="color: red;" ng-if="(node|contains:'secrets') && vm.systemSettings.secrets.isFailed"></i>
                      </td>
                      <td class="text-center">
                        <i class="fa fa-check" style="color: green;" ng-if="(node|contains:'msg') && vm.systemSettings.msg.isInstalled && vm.systemSettings.msg.isInitialized"></i>
                        <i class="fa fa-times" style="color: red;" ng-if="(node|contains:'msg') && vm.systemSettings.msg.isFailed"></i>
                      </td>
                      <td class="text-center">
                        <i class="fa fa-check" style="color: green;" ng-if="(node|contains:'state') && vm.systemSettings.state.isInstalled && vm.systemSettings.state.isInitialized"></i>
                        <i class="fa fa-times" style="color: red;" ng-if="(node|contains:'state') && vm.systemSettings.state.isFailed"></i>
                      </td>
                      <td class="text-center">
                        <i class="fa fa-check" style="color: green;" ng-if="(node|contains:'redis') && vm.systemSettings.redis.isInstalled && vm.systemSettings.redis.isInitialized"></i>
                        <i class="fa fa-times" style="color: red;" ng-if="(node|contains:'redis') && vm.systemSettings.redis.isFailed"></i>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </p>
              <p ng-if="vm.showServiceStatus">
                <label class="control-label">Services Status</label>
                <div style="overflow: auto;">
                  <table class="table table-bordered m-0">
                    <thead>
                      <tr>
                        <th ng-repeat="service in vm.allServices | orderBy: 'serviceName'"
                        ng-if="service.isEnabled && (service.serviceName !== 'mktg' || !vm.admiralEnv.IS_SERVER)">{{service.serviceName}}</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td class="text-center" ng-repeat="service in vm.allServices | orderBy: 'serviceName'"
                        ng-if="service.isEnabled && (service.serviceName !== 'mktg' || !vm.admiralEnv.IS_SERVER)">
                          <i class="fa fa-check" style="color: green;"></i>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </p>
            </div>
          </div>
        </div>
        <!-- END ROW -->

        <!-- WWW Config Section -->
        <div class="row" ng-if="vm.isLoaded && vm.initialized">
          <div class="col-md-12">
            <div class="portlet">
              <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#www">
                <h3 class="portlet-title text-dark col-md-3">
                  UI
                </h3>
                <div class="col-md-6 alignTextCenter" style="padding: 5px;">
                  <span class="divider"></span>
                  <!-- <span class="label label-processing" ng-if="vm.saving">initializing...</span> -->
                  <span class="label label-{{vm.requireRestart ? 'green' : 'waiting'}}">
                    {{vm.requireRestart ? 'initialized' : 'not initialized'}}
                  </span>
                </div>
                <div class="portlet-widgets">
                  <a data-toggle="collapse" data-target="#www" class="{{vm.initialized ? 'collapsed' : ''}}"><i class="ion-minus-round cursor-pointer"></i></a>
                </div>
                <div class="clearfix"></div>
              </div>
              <div id="www" class="panel-collapse {{vm.initialized ? 'collapse' : 'collapse in'}}">
                <div class="portlet-body">
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="row">
                        <div class="col-md-12">
                          <label class="control-label textAlignNone col-md-1">URL: </label>
                          <span style="word-wrap: break-word;" class="col-md-2">{{vm.installForm.www.url.data.url}}</span>
                        </div>
                        <div class="col-md-12" ng-if="vm.installForm.www.url.address">
                          <label class="control-label textAlignNone col-md-1">Local address: </label>
                          <span style="word-wrap: break-word;" class="col-md-2">
                            {{vm.installForm.www.url.localAddress}}</span>
                        </div>
                        <div class="col-md-12" ng-if="vm.isAuthInitialized">
                          <div ng-if="vm.requireRestart">
                            <span style="word-wrap: break-word;" class="col-md-2">Click
                            <a href="{{vm.installForm.www.url.data.url}}"
                              target="_blank">here</a>
                            to login</span>
                          </div>
                        </div>
                        <div class="col-md-12 m-t-10">
                          <div class="card-box col-md-12">
                            <div class="row">
                              <div class="col-md-12">
                                <div class="toggle-bar">
                                  <input id="checkbox_for_www_url" type="checkbox"
                                    ng-model="vm.isEditingUIUrl"  ng-disabled="vm.initializing ||
                                    vm.installing || vm.saving || vm.restartingServices"
                                    class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                  <label for="checkbox_for_www_url">
                                    <b> Do you want to change friendly url? </b>
                                  </label>
                                </div>
                                <div class="row m-t-10" ng-if="vm.isEditingUIUrl">
                                  <form class="form-horizontal" role="form" name="vm.wwwInstallForm" novalidate>
                                    <div class="col-md-12" ng-if="vm.isEditingUIUrl">
                                      <label class="control-label textAlignNone col-md-1">Protocol</label>
                                      <div class="col-md-3 m-t-5">
                                        <span>
                                          <input type="radio" ng-model="vm.installForm.www.url.isSecure"
                                            ng-value="false">
                                          http
                                        </span>
                                        <span>
                                          <input type="radio" ng-model="vm.installForm.www.url.isSecure"
                                            ng-value="true">
                                          https
                                        </span>
                                      </div>
                                    </div>
                                    <div class="col-md-12 m-t-10">
                                      <div ng-if="vm.isEditingUIUrl">
                                        <div>
                                          <label class="control-label textAlignNone col-md-1">FQDN</label>
                                          <div class="col-md-4">
                                            <input type="text" class="form-control" name="wwwUrl"
                                              ng-model="vm.installForm.www.url.fqdn" ng-disabled="vm.installing || vm.saving" ng-pattern="vm.urlRegex"/>
                                            <dd class="text-danger" ng-show="vm.wwwInstallForm.wwwUrl.$dirty">
                                              <span ng-show="vm.wwwInstallForm.wwwUrl.$error.pattern">URL is invalid.</span>
                                            </dd>
                                            <span class="text-muted m-b-20 font-13" ng-if="vm.systemSettings.workers.length > 1">
                                              This field requires a Load Balanced IP/DNS.
                                            </span>
                                          </div>
                                          <button ng-if="vm.isEditingUIUrl" class="btn btn-sm btn-primary"
                                            ng-disabled="vm.wwwInstallForm.wwwUrl.$error.url"
                                            ng-click="vm.saveServiceUrl(vm.installForm.www.url.isSecure,
                                              vm.installForm.www.url.fqdn, 'www')">Save</button>
                                          <button ng-if="vm.isEditingUIUrl" class="btn btn-sm btn-default" ng-click="vm.cancelUIUpdate()">Cancel</button>
                                        </div>
                                      </div>
                                    </div>
                                  </form>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row" ng-if="vm.isLoaded && vm.initialized">
          <div class="col-md-12">
            <div class="portlet">
              <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#api">
                <h3 class="portlet-title text-dark col-md-3">
                  API
                </h3>
                <div class="col-md-6 alignTextCenter" style="padding: 5px;">
                  <span class="divider"></span>
                  <!-- <span class="label label-processing" ng-if="vm.installing">initializing...</span> -->
                  <span class="label label-{{vm.requireRestart ? 'green' : 'waiting'}}">
                    {{vm.requireRestart ? 'initialized' : 'not initialized'}}
                  </span>
                </div>
                <div class="portlet-widgets">
                  <a data-toggle="collapse" data-target="#api" class="{{vm.initialized ? 'collapsed' : ''}}"><i class="ion-minus-round cursor-pointer"></i></a>
                </div>
                <div class="clearfix"></div>
              </div>
              <div id="api" class="panel-collapse {{vm.initialized ? 'collapse' : 'collapse in'}}">
                <div class="portlet-body">
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="row">
                        <div class="col-md-12">
                          <label class="control-label textAlignNone col-md-1">URL: </label>
                          <span style="word-wrap: break-word;" class="col-md-2">{{vm.installForm.api.url.data.url}}</span>
                        </div>
                        <div class="col-md-12">
                          <label class="control-label textAlignNone col-md-1">Local Address: </label>
                          <span style="word-wrap: break-word;" class="col-md-2">{{vm.installForm.api.url.localAddress}}</span>
                        </div>
                        <div class="col-md-12 m-t-10">
                          <div class="card-box col-md-12">
                            <div class="row">
                              <div class="col-md-12">
                                <div class="toggle-bar">
                                  <input id="checkbox_for_api_url" type="checkbox"
                                    ng-model="vm.isEditingAPIUrl"
                                    ng-disabled="vm.initializing || vm.installing || vm.saving ||
                                    vm.restartingServices" class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                  <label for="checkbox_for_api_url">
                                    <b> Do you want to change the friendly url of API? </b>
                                  </label>
                                </div>
                                <div class="row m-t-10" ng-if="vm.isEditingAPIUrl">
                                  <form class="form-horizontal" role="form" name="vm.apiInstallForm" novalidate>
                                    <div class="col-md-12" ng-if="vm.isEditingAPIUrl">
                                      <label class="control-label textAlignNone col-md-1">Protocol</label>
                                      <div class="col-md-3 m-t-5">
                                        <span>
                                          <input type="radio" ng-model="vm.installForm.api.url.isSecure"
                                            ng-disabled="vm.initializing || vm.installing || vm.saving"
                                            ng-value="false">
                                          http
                                        </span>
                                        <span>
                                          <input type="radio" ng-model="vm.installForm.api.url.isSecure"
                                            ng-disabled="vm.initializing || vm.installing || vm.saving"
                                            ng-value="true">
                                          https
                                        </span>
                                      </div>
                                    </div>
                                    <div class="col-md-12 m-t-10">
                                      <div ng-if="vm.isEditingAPIUrl">
                                        <div>
                                          <label class="control-label textAlignNone col-md-1">FQDN</label>
                                          <div class="col-md-4">
                                            <input type="text" class="form-control" name="apiUrl"
                                              ng-model="vm.installForm.api.url.fqdn" ng-disabled="vm.initializing || vm.installing || vm.saving" ng-pattern="vm.urlRegex"/>
                                            <dd class="text-danger" ng-show="vm.apiInstallForm.apiUrl.$dirty">
                                              <span ng-show="vm.apiInstallForm.apiUrl.$error.pattern">URL is invalid.</span>
                                            </dd>
                                          </div>
                                          <button ng-if="vm.isEditingAPIUrl" class="btn btn-sm btn-primary"
                                            ng-disabled="vm.apiInstallForm.apiUrl.$error.url || vm.initializing || vm.installing || vm.saving"
                                            ng-click="vm.saveServiceUrl(vm.installForm.api.url.isSecure,
                                              vm.installForm.api.url.fqdn, 'api')">Save</button>
                                          <button ng-if="vm.isEditingAPIUrl" class="btn btn-sm btn-default" ng-click="vm.cancelAPIUpdate()" ng-disabled="vm.initializing || vm.installing || vm.saving">Cancel</button>
                                        </div>
                                      </div>
                                    </div>
                                  </form>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-12 m-t-10">
                          <label class="control-label textAlignNone col-md-1">Optional APIs:</label>
                          <div class="card-box col-md-12">
                            <div class="row">
                              <div class="col-md-12">
                                <div class="card-box">
                                  <div class="toggle-bar">
                                    <input id="checkbox_for_internal_api" type="checkbox"
                                      ng-model="vm.installForm.internalAPI.url.isEnabled"
                                      ng-disabled="vm.initializing || vm.installing || vm.saving ||
                                      vm.restartingServices" class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                    <label for="checkbox_for_internal_api">
                                      <b> Dedicated Internal API </b>
                                    </label>
                                  </div>
                                  <div class="row m-t-10" ng-if="vm.installForm.internalAPI.url.isEnabled">
                                    <div class="col-md-12">
                                      <label class="control-label textAlignNone col-md-2">Internal API URL:</label>
                                      <span style="word-wrap: break-word;" class="col-md-2">{{vm.installForm.internalAPI.url.data.url}}</span>
                                    </div>
                                    <div class="col-md-12">
                                      <label class="control-label textAlignNone col-md-2">Local Address:</label>
                                      <span style="word-wrap: break-word;" class="col-md-2">{{vm.installForm.internalAPI.url.localAddress}}</span>
                                    </div>
                                    <div class="col-md-12 m-t-10">
                                      <div class="card-box col-md-12">
                                        <div class="row">
                                          <div class="col-md-12">
                                            <div class="toggle-bar">
                                              <input id="checkbox_for_editing_internalApi_url" type="checkbox"
                                                ng-model="vm.isEditingInternalAPIUrl"
                                                ng-disabled="vm.initializing || vm.installing || vm.saving"
                                                class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                              <label for="checkbox_for_editing_internalApi_url">
                                                <b> Do you want to change the friendly url of Internal API? </b>
                                              </label>
                                            </div>
                                            <div class="row m-t-10" ng-if="vm.isEditingInternalAPIUrl">
                                              <form class="form-horizontal" role="form" name="vm.internalApiInstallForm" novalidate>
                                                <div class="col-md-12" ng-if="vm.isEditingInternalAPIUrl">
                                                  <label class="control-label textAlignNone col-md-1">Protocol</label>
                                                  <div class="col-md-3 m-t-5">
                                                    <span>
                                                      <input type="radio" ng-model="vm.installForm.internalAPI.url.isSecure"
                                                        ng-disabled="vm.initializing || vm.installing || vm.saving"
                                                        ng-value="false">
                                                      http
                                                    </span>
                                                    <span>
                                                      <input type="radio" ng-model="vm.installForm.internalAPI.url.isSecure"
                                                        ng-disabled="vm.initializing || vm.installing || vm.saving"
                                                        ng-value="true">
                                                      https
                                                    </span>
                                                  </div>
                                                </div>
                                                <div class="col-md-12 m-t-10">
                                                  <div ng-if="vm.isEditingInternalAPIUrl">
                                                    <div>
                                                      <label class="control-label textAlignNone col-md-1">FQDN</label>
                                                      <div class="col-md-4">
                                                        <input type="text" class="form-control" name="internalApiUrl"
                                                          ng-model="vm.installForm.internalAPI.url.fqdn" ng-disabled="vm.initializing || vm.installing || vm.saving" ng-pattern="vm.urlRegex"/>
                                                        <dd class="text-danger" ng-show="vm.internalApiInstallForm.apiUrl.$dirty">
                                                          <span ng-show="vm.internalApiInstallForm.internalApiUrl.$error.pattern">URL is invalid.</span>
                                                        </dd>
                                                      </div>
                                                      <button ng-if="vm.isEditingInternalAPIUrl" class="btn btn-sm btn-primary"
                                                        ng-disabled="vm.internalApiInstallForm.internalApiUrl.$error.url || vm.initializing || vm.installing || vm.saving"
                                                        ng-click="vm.saveServiceUrl(vm.installForm.internalAPI.url.isSecure,
                                                          vm.installForm.internalAPI.url.fqdn, 'internalAPI')">Save</button>
                                                      <button ng-if="vm.isEditingInternalAPIUrl" class="btn btn-sm btn-default" ng-click="vm.cancelInternalAPIUpdate()" ng-disabled="vm.initializing || vm.installing || vm.saving">Cancel</button>
                                                    </div>
                                                  </div>
                                                </div>
                                              </form>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-12">
                                <div class="card-box">
                                  <div class="toggle-bar">
                                    <input id="checkbox_for_console_api" type="checkbox"
                                      ng-model="vm.installForm.consoleAPI.url.isEnabled"
                                      ng-disabled="vm.initializing || vm.installing || vm.saving ||
                                      vm.restartingServices" class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                    <label for="checkbox_for_console_api">
                                      <b> Dedicated Console API </b>
                                    </label>
                                  </div>
                                  <div class="row m-t-10" ng-if="vm.installForm.consoleAPI.url.isEnabled">
                                    <div class="col-md-12">
                                      <label class="control-label textAlignNone col-md-2">Console API URL:</label>
                                      <span style="word-wrap: break-word;" class="col-md-2">{{vm.installForm.consoleAPI.url.data.url}}</span>
                                    </div>
                                    <div class="col-md-12">
                                      <label class="control-label textAlignNone col-md-2">Local Address:</label>
                                      <span style="word-wrap: break-word;" class="col-md-2">{{vm.installForm.consoleAPI.url.localAddress}}</span>
                                    </div>
                                    <div class="col-md-12 m-t-10">
                                      <div class="card-box col-md-12">
                                        <div class="row">
                                          <div class="col-md-12">
                                            <div class="toggle-bar">
                                              <input id="checkbox_for_editing_consoleApi_url" type="checkbox"
                                                ng-model="vm.isEditingConsoleAPIUrl"
                                                ng-disabled="vm.initializing || vm.installing || vm.saving"
                                                class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                              <label for="checkbox_for_editing_consoleApi_url">
                                                <b> Do you want to change the friendly url of Console API? </b>
                                              </label>
                                            </div>
                                            <div class="row m-t-10" ng-if="vm.isEditingConsoleAPIUrl">
                                              <form class="form-horizontal" role="form" name="vm.consoleApiInstallForm" novalidate>
                                                <div class="col-md-12" ng-if="vm.isEditingConsoleAPIUrl">
                                                  <label class="control-label textAlignNone col-md-1">Protocol</label>
                                                  <div class="col-md-3 m-t-5">
                                                    <span>
                                                      <input type="radio" ng-model="vm.installForm.consoleAPI.url.isSecure"
                                                        ng-disabled="vm.initializing || vm.installing || vm.saving"
                                                        ng-value="false">
                                                      http
                                                    </span>
                                                    <span>
                                                      <input type="radio" ng-model="vm.installForm.consoleAPI.url.isSecure"
                                                        ng-disabled="vm.initializing || vm.installing || vm.saving"
                                                        ng-value="true">
                                                      https
                                                    </span>
                                                  </div>
                                                </div>
                                                <div class="col-md-12 m-t-10">
                                                  <div ng-if="vm.isEditingConsoleAPIUrl">
                                                    <div>
                                                      <label class="control-label textAlignNone col-md-1">FQDN</label>
                                                      <div class="col-md-4">
                                                        <input type="text" class="form-control" name="consoleApiUrl"
                                                          ng-model="vm.installForm.consoleAPI.url.fqdn" ng-disabled="vm.initializing || vm.installing || vm.saving" ng-pattern="vm.urlRegex"/>
                                                        <dd class="text-danger" ng-show="vm.consoleApiInstallForm.consoleApiUrl.$dirty">
                                                          <span ng-show="vm.consoleApiInstallForm.consoleApiUrl.$error.pattern">URL is invalid.</span>
                                                        </dd>
                                                      </div>
                                                      <button ng-if="vm.isEditingConsoleAPIUrl" class="btn btn-sm btn-primary"
                                                        ng-disabled="vm.consoleApiInstallForm.consoleApiUrl.$error.url || vm.initializing || vm.installing || vm.saving"
                                                        ng-click="vm.saveServiceUrl(vm.installForm.consoleAPI.url.isSecure,
                                                          vm.installForm.consoleAPI.url.fqdn, 'consoleAPI')">Save</button>
                                                      <button ng-if="vm.isEditingConsoleAPIUrl" class="btn btn-sm btn-default" ng-click="vm.cancelConsoleAPIUpdate()" ng-disabled="vm.initializing || vm.installing || vm.saving">Cancel</button>
                                                    </div>
                                                  </div>
                                                </div>
                                              </form>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- mktg Config Section -->
        <div class="row" ng-if="!vm.admiralEnv.IS_SERVER">
          <div class="col-md-12">
            <div class="portlet">
              <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#mktg">
                <h3 class="portlet-title text-dark col-md-3">
                  mktg
                </h3>
                <div class="col-md-6 alignTextCenter" style="padding: 5px;">
                  <span class="divider"></span>
                  <!-- <span class="label label-processing" ng-if="vm.saving">initializing...</span> -->
                  <span class="label label-{{vm.requireRestart ? 'green' : 'waiting'}}">
                    {{vm.requireRestart ? 'initialized' : 'not initialized'}}
                  </span>
                </div>
                <div class="portlet-widgets">
                  <a data-toggle="collapse" data-target="#mktg" class="{{vm.initialized ? 'collapsed' : ''}}"><i class="ion-minus-round cursor-pointer"></i></a>
                </div>
                <div class="clearfix"></div>
              </div>
              <div id="mktg" class="panel-collapse {{vm.initialized ? 'collapse' : 'collapse in'}}">
                <div class="portlet-body">
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="row">
                        <div class="col-md-12">
                          <label class="control-label textAlignNone col-md-1">URL: </label>
                          <span style="word-wrap: break-word;" class="col-md-2">{{vm.installForm.mktg.url.data.url}}</span>
                        </div>
                        <div class="col-md-12" ng-if="vm.installForm.www.url.address">
                          <label class="control-label textAlignNone col-md-1">Local address: </label>
                          <span style="word-wrap: break-word;" class="col-md-2">
                            {{vm.installForm.mktg.url.localAddress}}</span>
                        </div>
                        <div class="col-md-12 m-t-10">
                          <div class="card-box col-md-12">
                            <div class="row">
                              <div class="col-md-12">
                                <div class="toggle-bar">
                                  <input id="checkbox_for_mktg_url" type="checkbox"
                                    ng-model="vm.isEditingMktgUrl"  ng-disabled="vm.initializing ||
                                    vm.installing || vm.saving || vm.restartingServices"
                                    class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                  <label for="checkbox_for_mktg_url">
                                    <b> Do you want to change the friendly url of UI? </b>
                                  </label>
                                </div>
                                <div class="row" ng-if="vm.isEditingMktgUrl">
                                  <form class="form-horizontal" role="form" name="vm.mktgInstallForm" novalidate>
                                    <div class="col-md-12" ng-if="vm.isEditingMktgUrl">
                                      <label class="control-label textAlignNone col-md-1">Protocol</label>
                                      <div class="col-md-3 m-t-5">
                                        <span>
                                          <input type="radio" ng-model="vm.installForm.mktg.url.isSecure"
                                            ng-disabled="vm.initializing || vm.installing || vm.saving"
                                            ng-value="false">
                                          http
                                        </span>
                                        <span>
                                          <input type="radio" ng-model="vm.installForm.mktg.url.isSecure"
                                            ng-disabled="vm.initializing || vm.installing || vm.saving"
                                            ng-value="true">
                                          https
                                        </span>
                                      </div>
                                    </div>
                                    <div class="col-md-12 m-t-10">
                                      <div ng-if="vm.isEditingMktgUrl">
                                        <div>
                                          <label class="control-label textAlignNone col-md-1">FQDN</label>
                                          <div class="col-md-4">
                                            <input type="text" class="form-control" name="mktgUrl"
                                              ng-model="vm.installForm.mktg.url.fqdn" ng-disabled="vm.initializing || vm.installing || vm.saving" ng-pattern="vm.urlRegex"/>
                                            <dd class="text-danger" ng-show="vm.mktgInstallForm.mktgUrl.$dirty">
                                              <span ng-show="vm.mktgInstallForm.mktgUrl.$error.pattern">URL is invalid.</span>
                                            </dd>
                                            <span class="text-muted m-b-20 font-13" ng-if="vm.systemSettings.workers.length > 1">
                                              This field requires a Load Balanced IP/DNS.
                                            </span>
                                          </div>
                                          <button ng-if="vm.isEditingMktgUrl" class="btn btn-sm btn-primary"
                                            ng-disabled="vm.mktgInstallForm.mktgUrl.$error.url || vm.initializing || vm.installing || vm.saving"
                                            ng-click="vm.saveServiceUrl(vm.installForm.mktg.url.isSecure,
                                              vm.installForm.mktg.url.fqdn, 'mktg')">Save</button>
                                          <button ng-if="vm.isEditingMktgUrl" ng-disabled="vm.initializing || vm.installing || vm.saving" class="btn btn-sm btn-default" ng-click="vm.cancelMktgUpdate()">Cancel</button>
                                        </div>
                                      </div>
                                    </div>
                                  </form>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row" ng-if="vm.isLoaded && vm.initialized">
          <div class="col-md-12">
            <div class="portlet">
              <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#auth">
                <h3 class="portlet-title text-dark col-md-5">
                  Authorization and Source Control Management (SCM) Providers
                </h3>
                <div class="col-md-2 alignTextCenter" style="padding: 5px;">
                  <span class="divider"></span>
                  <span class="label label-green" ng-if="vm.isAuthInitialized">initialized</span>
                  <span class="label label-waiting" ng-if="!vm.isAuthInitialized">
                    not initialized
                  </span>
                </div>
                <div class="portlet-widgets">
                  <a data-toggle="collapse" data-target="#auth" class="{{vm.initialized ? 'collapsed' : ''}}"><i class="ion-minus-round cursor-pointer"></i></a>
                </div>
                <div class="clearfix"></div>
              </div>
              <div id="auth" class="panel-collapse {{vm.initialized ? 'collapse' : 'collapse in'}}">
                <div class="portlet-body">
                  <!-- Bitbucket -->
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="card-box">
                        <h4 class="m-t-0 header-title"><b>Bitbucket</b></h4>
                        <div class="row">
                          <div class="col-sm-12">
                            <div class="card-box">
                              <div class="toggle-bar">
                                <input id="checkbox_for_scm_bitbucket" type="checkbox"
                                  ng-model="vm.installForm.scm.bitbucket.isEnabled"
                                  ng-change="vm.toggleSCMMasterIntegration('bitbucket')"
                                  ng-disabled="vm.installForm.scm.bitbucket.disableToggle || vm.initializing || vm.installing || vm.saving"
                                  class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                <label for="checkbox_for_scm_bitbucket">
                                  <b> SCM </b>
                                </label>
                              </div>
                              </br>
                              <div class="row" ng-repeat="bbAuth in vm.installForm.auth.bitbucketKeys.authorizations">
                                <div class="col-md-12">
                                  <form name="vm.bbInstallForm" class="form-horizontal" role="form">
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Name (Optional)</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" placeholder="Bitbucket" name="bitbucketCustomName"
                                        ng-model="bbAuth.sysInt.customName" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Client ID</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" name="bitbucketClientId"
                                        ng-model="bbAuth.sysInt.clientId" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Client Secret</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" name="bitbucketClientSecret"
                                        ng-model="bbAuth.sysInt.clientSecret" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">URL</label>
                                      <div class="col-md-6">
                                        <input type="url" class="form-control" name="bitbucketUrl"
                                        ng-model="bbAuth.sysInt.url" ng-disabled="true"/>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Callback URL</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" ng-model="bbAuth.callbackUrl" id="bb-auth-callbackurl" readonly />
                                      </div>
                                      <a href="" id="copy"
                                        data-clipboard-target="#bb-auth-callbackurl"
                                        ng-click="vm.copyToClip()">
                                        <i class="fa fa-copy text-primary m-r-5"></i>{{vm.copyText}}
                                      </a>
                                      <!-- </button> -->
                                      <button class="btn btn-danger"
                                        ng-click="vm.deleteAuthentication('bitbucketKeys', bbAuth.systemIntegrationId)"
                                        ng-disabled="vm.installForm.auth.bitbucketKeys.isDeletingAuth || vm.initializing || vm.installing || vm.saving">
                                        Delete
                                      </button>
                                    </div>
                                    <div class="form-group" ng-if="!bbAuth.sysInt.clientId || !bbAuth.sysInt.clientSecret">
                                      <div class="col-md-offset-2 col-md-6">
                                        <dd class="text-danger">
                                          <span>All these are required fields. Please fill them all before continuing further.</span>
                                        </dd>
                                      </div>
                                    </div>
                                  </form>
                                </div>
                                &nbsp;
                              </div>
                              </br>
                              <div ng-if="vm.installForm.auth.bitbucketKeys.isAddingAuth && vm.installForm.auth.bitbucketKeys.authorizations.length < 1">
                                Adding..
                              </div>
                              <div class="row" ng-if="vm.installForm.auth.bitbucketKeys.authorizations.length < 1">
                                <button class="btn btn-default pull-left" ng-click="vm.addAuthentication('bitbucketKeys')"
                                  ng-if="!vm.installForm.auth.bitbucketKeys.isAddingAuth"
                                  ng-disabled="vm.initializing || vm.installing || vm.saving">
                                  Add
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Bitbucket Server -->
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="card-box">
                        <h4 class="m-t-0 header-title"><b>Bitbucket Server</b></h4>
                        <div class="row">
                          <div class="col-sm-12">
                            <div class="card-box">
                              <div class="toggle-bar">
                                <label>
                                  <b>Oauth  </b>
                                </label>
                                &nbsp;
                                <input id="checkbox_for_scm_bitbucketServer" type="checkbox"
                                  ng-model="vm.installForm.scm.bitbucketServer.isEnabled"
                                  ng-change="vm.toggleSCMMasterIntegration('bitbucketServer')"
                                  ng-disabled="vm.installForm.scm.bitbucketServer.disableToggle || vm.initializing || vm.installing || vm.saving"
                                  class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                <label for="checkbox_for_scm_bitbucketServer">
                                  <b>SCM </b>
                                </label>
                              </div>
                              </br>
                              <div class="row" ng-repeat="bbsAuth in vm.installForm.auth.bitbucketServerKeys.authorizations">
                                <div class="col-md-12">
                                  <form name="vm.bbsInstallForm" class="form-horizontal" role="form">
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Name (Optional)</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" placeholder="Bitbucket Server" name="bitbucketServerCustomName"
                                        ng-model="bbsAuth.sysInt.customName" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Client ID</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" name="bitbucketServerClientId"
                                        ng-model="bbsAuth.sysInt.clientId" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Client Secret</label>
                                      <div class="col-md-6">
                                        <textarea rows="3" class="form-control" name="bitbucketServerClientSecret"
                                        ng-model="bbsAuth.sysInt.clientSecret" ng-disabled="vm.initializing || vm.installing || vm.saving" placeholder="-----BEGIN ENCRYPTED PRIVATE KEY----- MIIFDjBABgkqhkiG9w0BBQ0wMzAbBgkqhkiG9w0BBQwwDgQIS2qgprFqPxECAggA MBQGCCqGSIb3DQMHBAgD1kGN4ZslJgSCBMi1xk9jhlPxP3FyaMIUq8QmckXCs3Sa 9g73NQbtqZwI+9X5OhpSg/2ALxlCCjbqvzgSu8gfFZ4yo+Xd8VucZDmDSpzZGDod A .... MANY LINES LIKE THAT .... .... MANY LINES LIKE THAT ....  X0R+meOaudPTBxoSgCCM51poFgaqt4l6VlTN4FRpj+c/WZeoMM/BVXO+nayuIMyH blK948UAda/bWVmZjXfY4Tztah0CuqlAldOQBzu8TwE7WDwo5S7lo5u0EXEoqCCq H0ga/iLNvWYexG7FHLRiq5hTj0g9mUPEbeTXuPtOkTEb/0ckVE2iZH9l7g5edmUZ GEs= -----END ENCRYPTED PRIVATE KEY----- -----BEGIN CERTIFICATE----- MIIDXTCCAkWgAwIBAgIJAJC1HiIAZAiIMA0GCSqGSIb3DQEBBQUAMEUxCzAJBgNV BAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEwHwYDVQQKDBhJbnRlcm5ldCBX aWRnaXRzIFB0eSBMdGQwHhcNMTExMjMxMDg1OTQ0WhcNMTIxMjMwMDg1OTQ0WjBF A .... MANY LINES LIKE THAT .... .... MANY LINES LIKE THAT ....  JjyzfN746vaInA1KxYEeI1Rx5KXY8zIdj6a7hhphpj2E04LDdw7r495dv3UgEgpR C3Fayua4DRHyZOLmlvQ6tIChY0ClXXuefbmVSDeUHwc8YufRAERp2GfQnL2JlPUL B7xxt8BVc69rLeHV15A0qyx77CLSj3tCx2IUXVqRs5mlSbq094NBxsauYcm0A6Jq vA== -----END CERTIFICATE-----">
                                        </textarea>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">URL</label>
                                      <div class="col-md-6">
                                        <input type="url" class="form-control" name="bitbucketServerUrl"
                                          ng-blur="vm.formValuesChanged(bbsAuth.systemIntegrationId, bbsAuth.sysInt.url, 'bitbucketServerKeys')"
                                          ng-model="bbsAuth.sysInt.url" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                        <dd class="text-danger" ng-if="!bbsAuth.isValidUrl">
                                          <span>Please give a valid Bitbucket Server endpoint url</span>
                                        </dd>
                                        <dd class="text-danger" ng-if="bbsAuth.isDuplicateUrl">
                                          <span>Duplicate URLs found. Multiple authorizations to a provider with same URLs are not allowed.</span>
                                        </dd>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Callback URL</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" ng-model="bbsAuth.callbackUrl" id="bbs-auth-callbackurl" readonly />
                                      </div>
                                      <a href="" id="copy"
                                        data-clipboard-target="#bbs-auth-callbackurl"
                                        ng-click="vm.copyToClip()">
                                        <i class="fa fa-copy text-primary m-r-5"></i>{{vm.copyText}}
                                      </a>
                                      <button class="btn btn-danger"
                                        ng-click="vm.deleteAuthentication('bitbucketServerKeys', bbsAuth.systemIntegrationId)"
                                        ng-disabled="vm.installForm.auth.bitbucketServerKeys.isDeletingAuth || vm.initializing || vm.installing || vm.saving">
                                        Delete
                                      </button>
                                    </div>
                                    <div class="form-group" ng-if="!bbsAuth.sysInt.clientId || !bbsAuth.sysInt.clientSecret || !bbsAuth.sysInt.url">
                                      <div class="col-md-offset-2 col-md-6">
                                        <dd class="text-danger">
                                          <span>All these are required fields. Please fill them all before continuing further.</span>
                                        </dd>
                                      </div>
                                    </div>
                                  </form>
                                </div>
                                &nbsp;
                              </div>
                              </br>
                              <div ng-if="vm.installForm.auth.bitbucketServerKeys.isAddingAuth">
                                Adding..
                              </div>
                              <div class="row">
                                <button class="btn btn-default pull-left"
                                  ng-click="vm.addAuthentication('bitbucketServerKeys')"
                                  ng-if="!vm.installForm.auth.bitbucketServerKeys.isAddingAuth"
                                  ng-disabled="vm.initializing || vm.installing || vm.saving">
                                  Add
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="row">
                          <div class="col-sm-12">
                            <div class="card-box">
                              <div class="toggle-bar">
                                <label>
                                  <b>Basic Auth</b>
                                </label>
                                &nbsp;
                                <input id="checkbox_for_scm_bitbucketServerBasic" type="checkbox"
                                  ng-model="vm.installForm.scm.bitbucketServerBasic.isEnabled"
                                  ng-change="vm.toggleSCMMasterIntegration('bitbucketServerBasic')"
                                  ng-disabled="vm.installForm.scm.bitbucketServer.disableToggle || vm.initializing || vm.installing || vm.saving"
                                  class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                <label for="checkbox_for_scm_bitbucketServerBasic">
                                  <b>SCM </b>
                                </label>
                              </div>
                              </br>
                              <div class="row" ng-repeat="bbsBasicAuth in vm.installForm.auth.bitbucketServerBasicAuth.authorizations">
                                <div class="col-md-12">
                                  <form name="vm.bbsBasicInstallForm" class="form-horizontal" role="form">
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Name (Optional)</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" placeholder="Bitbucket Server Basic" name="bitbucketServerBasicCustomName"
                                        ng-model="bbsBasicAuth.sysInt.customName" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">URL</label>
                                      <div class="col-md-6">
                                        <input type="url" class="form-control" name="bitbucketServerBasicUrl"
                                          ng-blur="vm.formValuesChanged(bbsBasicAuth.systemIntegrationId, bbsBasicAuth.sysInt.url, 'bitbucketServerBasicAuth')"
                                          ng-model="bbsBasicAuth.sysInt.url" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                        <dd class="text-danger" ng-if="!bbsBasicAuth.isValidUrl">
                                          <span>Please give a valid Bitbucket Server endpoint url</span>
                                        </dd>
                                        <dd class="text-danger" ng-if="bbsBasicAuth.isDuplicateUrl">
                                          <span>Duplicate URLs found. Multiple authorizations to a provider with same URLs are not allowed.</span>
                                        </dd>
                                      </div>
                                      <button class="btn btn-danger"
                                        ng-click="vm.deleteAuthentication('bitbucketServerBasicAuth', bbsBasicAuth.systemIntegrationId)"
                                        ng-disabled="vm.installForm.auth.bitbucketServerBasicAuth.isDeletingAuth || vm.initializing || vm.installing || vm.saving">
                                        Delete
                                      </button>
                                    </div>
                                    <div class="form-group" ng-if="!bbsBasicAuth.sysInt.url">
                                      <div class="col-md-offset-2 col-md-6">
                                        <dd class="text-danger">
                                          <span>All these are required fields. Please fill them all before continuing further.</span>
                                        </dd>
                                      </div>
                                    </div>
                                  </form>
                                </div>
                                &nbsp;
                              </div>
                              </br>
                              <div ng-if="vm.installForm.auth.bitbucketServerBasicAuth.isAddingAuth">
                                Adding..
                              </div>
                              <div class="row">
                                <button class="btn btn-default pull-left"
                                  ng-click="vm.addAuthentication('bitbucketServerBasicAuth')"
                                  ng-if="!vm.installForm.auth.bitbucketServerBasicAuth.isAddingAuth"
                                  ng-disabled="vm.initializing || vm.installing || vm.saving">
                                  Add
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Gerrit -->
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="card-box">
                        <h4 class="m-t-0 header-title"><b>Gerrit</b></h4>
                        <div class="row">
                          <div class="col-sm-12">
                            <div class="card-box">
                              <div class="toggle-bar">
                                <label>
                                  <b>Basic Auth</b>
                                </label>
                                <input id="checkbox_for_scm_gerritBasic" type="checkbox"
                                  ng-model="vm.installForm.scm.gerritBasic.isEnabled"
                                  ng-change="vm.toggleSCMMasterIntegration('gerritBasic')"
                                  ng-disabled="vm.initializing || vm.installing || vm.saving"
                                  class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                <label for="checkbox_for_scm_gerritBasic">
                                  <b>SCM </b>
                                </label>
                              </div>
                              </br>
                              <div class="row" ng-repeat="gerritBasicAuth in vm.installForm.auth.gerritBasicAuth.authorizations">
                                <div class="col-md-12">
                                  <form name="vm.gerritBasicInstallForm" class="form-horizontal" role="form">
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Name (Optional)</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" placeholder="Gerrit Server" name="gerritBasicCustomName"
                                        ng-model="gerritBasicAuth.sysInt.customName" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">URL</label>
                                      <div class="col-md-6">
                                        <input type="url" class="form-control" name="gerritBasicUrl" placeholder="http://gerritserver:5238"
                                          ng-blur="vm.formValuesChanged(gerritBasicAuth.systemIntegrationId, gerritBasicAuth.sysInt.url, 'gerritBasicAuth')"
                                          ng-model="gerritBasicAuth.sysInt.url" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                        <dd class="text-danger" ng-if="!gerritBasicAuth.isValidUrl">
                                          <span>Please give a valid Gerrit Server endpoint url</span>
                                        </dd>
                                        <dd class="text-danger" ng-if="gerritBasicAuth.isDuplicateUrl">
                                          <span>Duplicate URLs found. Multiple authorizations to a provider with same URLs are not allowed.</span>
                                        </dd>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label"></label>
                                      <div class="col-md-6">
                                        Allow Shippable to access event-streams
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Username</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" placeholder="shippable" name="gerritBasicUserName"
                                        ng-model="gerritBasicAuth.sysInt.username" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">SSH Port</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" placeholder="29418" name="gerritBasicSshPort"
                                        ng-model="gerritBasicAuth.sysInt.sshPort" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Public Key</label>
                                      <div class="col-sm-6">
                                        <textarea rows="6" style="resize: both" class="form-control" placeholder="" name="gerritBasicPublicKey"
                                          ng-model="gerritBasicAuth.sysInt.publicKey" ng-disabled="vm.initializing || vm.installing || vm.saving" id="gerrit-auth-publicKey" readonly />
                                        </textarea>
                                      </div>
                                      <a href="" id="copy"
                                        data-clipboard-target="#gerrit-auth-publicKey"
                                        ng-click="vm.copyToClip()">
                                        <i class="fa fa-copy text-primary m-r-5"></i>{{vm.copyText}}
                                      </a>
                                      <button class="btn btn-danger"
                                        ng-click="vm.deleteAuthentication('gerritBasicAuth', gerritBasicAuth.systemIntegrationId)"
                                        ng-disabled="vm.installForm.auth.gerritBasicAuth.isDeletingAuth || vm.initializing || vm.installing || vm.saving">
                                        Delete
                                      </button>
                                    </div>
                                    <div class="form-group" ng-if="!gerritBasicAuth.sysInt.url">
                                      <div class="col-md-offset-2 col-md-6">
                                        <dd class="text-danger">
                                          <span>All these are required fields. Please fill them all before continuing further.</span>
                                        </dd>
                                      </div>
                                    </div>
                                  </form>
                                </div>
                                &nbsp;
                              </div>
                              </br>
                              <div ng-if="vm.installForm.auth.gerritBasicAuth.isAddingAuth">
                                Adding..
                              </div>
                              <div class="row">
                                <button class="btn btn-default pull-left"
                                  ng-click="vm.addAuthentication('gerritBasicAuth')"
                                  ng-if="!vm.installForm.auth.gerritBasicAuth.isAddingAuth"
                                  ng-disabled="vm.initializing || vm.installing || vm.saving">
                                  Add
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Github -->
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="card-box">
                        <h4 class="m-t-0 header-title"><b>Github</b></h4>
                        <div class="row">
                          <div class="col-sm-12">
                            <div class="card-box">
                              <div class="toggle-bar">
                                <input id="checkbox_for_scm_github" type="checkbox"
                                  ng-model="vm.installForm.scm.github.isEnabled"
                                  ng-change="vm.toggleSCMMasterIntegration('github')"
                                  ng-disabled="vm.installForm.scm.github.disableToggle || vm.initializing || vm.installing || vm.saving"
                                  class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                <label for="checkbox_for_scm_github">
                                  <b>SCM </b>
                                </label>
                              </div>
                              </br>
                              <div class="row" ng-repeat="githubAuth in vm.installForm.auth.githubKeys.authorizations">
                                <div class="col-md-12">
                                  <form name="vm.bbsInstallForm" class="form-horizontal" role="form">
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Name (Optional)</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" placeholder="GitHub" name="githubCustomName"
                                        ng-model="githubAuth.sysInt.customName" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Client ID</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" name="githubClientId"
                                        ng-model="githubAuth.sysInt.clientId" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Client Secret</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" name="githubClientSecret"
                                        ng-model="githubAuth.sysInt.clientSecret" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">URL</label>
                                      <div class="col-md-6">
                                        <input type="url" class="form-control" name="githubUrl"
                                          ng-model="githubAuth.sysInt.url" ng-disabled="true"/>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Callback URL</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" ng-model="githubAuth.callbackUrl" id="github-auth-callbackurl" readonly />
                                      </div>
                                      <a href="" id="copy"
                                        data-clipboard-target="#github-auth-callbackurl"
                                        ng-click="vm.copyToClip()">
                                        <i class="fa fa-copy text-primary m-r-5"></i>{{vm.copyText}}
                                      </a>
                                      <button class="btn btn-danger"
                                        ng-click="vm.deleteAuthentication('githubKeys', githubAuth.systemIntegrationId)"
                                        ng-disabled="vm.installForm.auth.githubKeys.isDeletingAuth || vm.initializing || vm.installing || vm.saving">
                                        Delete
                                      </button>
                                    </div>
                                    <div class="form-group" ng-if="!githubAuth.sysInt.clientId || !githubAuth.sysInt.clientSecret">
                                      <div class="col-md-offset-2 col-md-6">
                                        <dd class="text-danger">
                                          <span>All these are required fields. Please fill them all before continuing further.</span>
                                        </dd>
                                      </div>
                                    </div>
                                  </form>
                                </div>
                                &nbsp;
                              </div>
                              </br>
                              <div ng-if="vm.installForm.auth.githubKeys.isAddingAuth &&
                                vm.installForm.auth.githubKeys.authorizations.length < 1">
                                Adding..
                              </div>
                              <div class="row">
                                <button class="btn btn-default pull-left"
                                  ng-click="vm.addAuthentication('githubKeys')"
                                  ng-if="!vm.installForm.auth.githubKeys.isAddingAuth &&
                                    vm.installForm.auth.githubKeys.authorizations.length < 1"
                                  ng-disabled="vm.initializing || vm.installing || vm.saving">
                                  Add
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- GHE -->
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="card-box">
                        <h4 class="m-t-0 header-title"><b>Github Enterprise</b></h4>
                        <div class="row">
                          <div class="col-sm-12">
                            <div class="card-box">
                              <div class="toggle-bar">
                                <input id="checkbox_for_scm_githubEnterprise" type="checkbox"
                                  ng-model="vm.installForm.scm.githubEnterprise.isEnabled"
                                  ng-change="vm.toggleSCMMasterIntegration('githubEnterprise')"
                                  ng-disabled="vm.installForm.scm.githubEnterprise.disableToggle || vm.initializing || vm.installing || vm.saving"
                                  class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                <label for="checkbox_for_scm_githubEnterprise">
                                  <b>SCM </b>
                                </label>
                              </div>
                              </br>
                              <div class="row" ng-repeat="gheAuth in vm.installForm.auth.githubEnterpriseKeys.authorizations">
                                <div class="col-md-12">
                                  <form name="vm.gheInstallForm" class="form-horizontal" role="form">
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Name (Optional)</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" placeholder="GitHub Enterprise" name="githubEnterpriseCustomName"
                                        ng-model="gheAuth.sysInt.customName" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Client ID</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" name="githubEnterpriseClientId"
                                        ng-model="gheAuth.sysInt.clientId" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Client Secret</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" name="githubEnterpriseClientSecret"
                                          ng-model="gheAuth.sysInt.clientSecret" ng-disabled="vm.initializing || vm.installing || vm.saving" />
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">URL</label>
                                      <div class="col-md-6">
                                        <input type="url" class="form-control" name="githubEnterpriseUrl"
                                          ng-blur="vm.formValuesChanged(gheAuth.systemIntegrationId, gheAuth.sysInt.url, 'githubEnterpriseKeys')"
                                          ng-model="gheAuth.sysInt.url" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                        <dd class="text-danger" ng-if="!gheAuth.isValidUrl">
                                          <span>Please give a valid Github Enterprise endpoint url</span>
                                        </dd>
                                        <dd class="text-danger" ng-if="gheAuth.isDuplicateUrl">
                                          <span>Duplicate URLs found. Multiple authorizations to a provider with same URLs are not allowed.</span>
                                        </dd>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Callback URL</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" ng-model="gheAuth.callbackUrl" id="ghe-auth-callbackurl" readonly />
                                      </div>
                                      <a href="" id="copy"
                                        data-clipboard-target="#ghe-auth-callbackurl"
                                        ng-click="vm.copyToClip()">
                                        <i class="fa fa-copy text-primary m-r-5"></i>{{vm.copyText}}
                                      </a>
                                      <button class="btn btn-danger"
                                        ng-click="vm.deleteAuthentication('githubEnterpriseKeys', gheAuth.systemIntegrationId)"
                                        ng-disabled="vm.installForm.auth.githubEnterpriseKeys.isDeletingAuth || vm.initializing || vm.installing || vm.saving">
                                        Delete
                                      </button>
                                    </div>
                                    <div class="form-group" ng-if="!gheAuth.sysInt.clientId || !gheAuth.sysInt.clientSecret || !gheAuth.sysInt.url">
                                      <div class="col-md-offset-2 col-md-6">
                                        <dd class="text-danger">
                                          <span>All these are required fields. Please fill them all before continuing further.</span>
                                        </dd>
                                      </div>
                                    </div>
                                  </form>
                                </div>
                                &nbsp;
                              </div>
                              </br>
                              <div ng-if="vm.installForm.auth.githubEnterpriseKeys.isAddingAuth">
                                Adding..
                              </div>
                              <div class="row">
                                <button class="btn btn-default pull-left"
                                  ng-click="vm.addAuthentication('githubEnterpriseKeys')"
                                  ng-if="!vm.installForm.auth.githubEnterpriseKeys.isAddingAuth"
                                  ng-disabled="vm.initializing || vm.installing || vm.saving">
                                  Add
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Gitlab -->
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="card-box">
                        <h4 class="m-t-0 header-title"><b>Gitlab</b></h4>
                        <div class="row">
                          <div class="col-sm-12">
                            <div class="card-box">
                              <div class="toggle-bar">
                                <input id="checkbox_for_scm_gitlab" type="checkbox"
                                  ng-model="vm.installForm.scm.gitlab.isEnabled"
                                  ng-change="vm.toggleSCMMasterIntegration('gitlab')"
                                  ng-disabled="vm.installForm.scm.gitlab.disableToggle || vm.initializing || vm.installing || vm.saving"
                                  class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                <label for="checkbox_for_scm_gitlab">
                                  <b>SCM </b>
                                </label>
                              </div>
                              </br>
                              <div class="row" ng-repeat="gitlabAuth in vm.installForm.auth.gitlabKeys.authorizations">
                                <div class="col-md-12">
                                  <form name="vm.bbsInstallForm" class="form-horizontal" role="form">
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Name (Optional)</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" placeholder="GitLab" name="gitlabCustomName"
                                        ng-model="gitlabAuth.sysInt.customName" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Application ID</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" name="gitlabClientId"
                                        ng-model="gitlabAuth.sysInt.clientId" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Secret</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" name="gitlabClientSecret"
                                          ng-model="gitlabAuth.sysInt.clientSecret" ng-disabled="vm.initializing || vm.installing || vm.saving" />
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">URL</label>
                                      <div class="col-md-6">
                                        <input type="url" class="form-control" name="gitlabUrl"
                                          ng-blur="vm.formValuesChanged(gitlabAuth.systemIntegrationId, gitlabAuth.sysInt.url, 'gitlabKeys')"
                                          ng-model="gitlabAuth.sysInt.url" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                        <dd class="text-danger" ng-if="!gitlabAuth.isValidUrl">
                                          <span>Please give a valid gitlab Enterprise endpoint url</span>
                                        </dd>
                                        <dd class="text-danger" ng-if="gitlabAuth.isDuplicateUrl">
                                          <span>Duplicate URLs found. Multiple authorizations to a provider with same URLs are not allowed.</span>
                                        </dd>
                                      </div>
                                    </div>
                                    <div class="form-group">
                                      <label class="col-md-2 control-label">Callback URL</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" ng-model="gitlabAuth.callbackUrl" id="gitlab-auth-callbackurl" readonly />
                                      </div>
                                      <a href="" id="copy"
                                        data-clipboard-target="#gitlab-auth-callbackurl"
                                        ng-click="vm.copyToClip()">
                                        <i class="fa fa-copy text-primary m-r-5"></i>{{vm.copyText}}
                                      </a>
                                      <button class="btn btn-danger"
                                        ng-click="vm.deleteAuthentication('gitlabKeys', gitlabAuth.systemIntegrationId)"
                                        ng-disabled="vm.installForm.auth.gitlabKeys.isDeletingAuth || vm.initializing || vm.installing || vm.saving">
                                        Delete
                                      </button>
                                    </div>
                                    <div class="form-group" ng-if="!gitlabAuth.sysInt.clientId || !gitlabAuth.sysInt.clientSecret || !gitlabAuth.sysInt.url">
                                      <div class="col-md-offset-2 col-md-6">
                                        <dd class="text-danger">
                                          <span>All these are required fields. Please fill them all before continuing further.</span>
                                        </dd>
                                      </div>
                                    </div>
                                  </form>
                                </div>
                                &nbsp;
                              </div>
                              </br>
                              <div ng-if="vm.installForm.auth.gitlabKeys.isAddingAuth">
                                Adding..
                              </div>
                              <div class="row">
                                <button class="btn btn-default pull-left"
                                  ng-click="vm.addAuthentication('gitlabKeys')"
                                  ng-if="!vm.installForm.auth.gitlabKeys.isAddingAuth"
                                  ng-disabled="vm.initializing || vm.installing || vm.saving">
                                  Add
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <div class="portlet">
              <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#bg-master">
                <h3 class="portlet-title text-dark col-md-3">
                  SWARM
                </h3>
                <div class="col-md-6 alignTextCenter" style="padding: 5px;">
                  <span class="divider"></span>
                  <span class="label label-processing" ng-if="vm.systemSettings.master.isProcessing">initializing...</span>
                  <span class="label label-{{vm.systemSettings.master.isInitialized ? 'green' : 'waiting'}}" ng-if="!vm.systemSettings.master.isProcessing && !vm.systemSettings.master.isFailed">
                    {{vm.systemSettings.master.isInitialized ? 'initialized' : 'not initialized'}}
                  </span>
                  <span class="label label-failure" ng-if="!vm.systemSettings.master.isProcessing && vm.systemSettings.master.isFailed">failed &#x26a0;</span>
                </div>
                <div class="portlet-widgets">
                  <span class="divider"></span>
                  <a class="btn" ng-click="vm.showLogModal('master'); $event.stopPropagation();" ng-disabled="!vm.systemSettings.master.isProcessing && !vm.systemSettings.master.isFailed && !vm.systemSettings.master.isInitialized" tooltip-placement="top"
                    uib-tooltip="logs"><i class="fa fa-paperclip"></i></a>
                  <a data-toggle="collapse" data-target="#bg-master" class="{{vm.initialized ? 'collapsed' : ''}}"><i class="ion-minus-round cursor-pointer"></i></a>
                </div>
                <div class="clearfix"></div>
              </div>

              <div id="bg-master" class="panel-collapse {{vm.initialized ? 'collapse' : 'collapse in'}}">
                <div class="portlet-body">
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="row">
                        <div class="col-md-12">
                          <label class="control-label col-md-1 textAlignNone">Swarm master: </label>
                        </div>
                        <div class="col-md-12">
                          <label class="control-label textAlignNone col-md-1">IP: </label>
                          <span style="word-wrap: break-word;" class="col-md-2">{{vm.initializeForm.master.address || vm.admiralEnv.ADMIRAL_IP}}</span>
                        </div>
                        <div class="col-md-12">
                          <label class="control-label textAlignNone col-md-1">Port: </label>
                          <span style="word-wrap: break-word;" class="col-md-2">{{vm.initializeForm.master.port || 2377}}</span>
                        </div>
                        <div class="col-md-12 m-t-10">
                          <label class="control-label textAlignNone col-md-2">Swarm workers (Optional)</label>
                          <button class="btn btn-sm btn-default pull-right"
                            ng-click="vm.showWorkersLogModal('workers')"
                            ng-disabled="!vm.initializeForm.workers.enableLogsButton">Worker init logs</button>
                          <div class="card-box col-md-12 m-t-10">
                            <div class="row">
                              <div class="col-md-12" ng-if="vm.initializeForm.workers.workers.length !==0">
                                <table class="table table-striped m-0">
                                  <thead>
                                    <tr>
                                      <th>Name</th>
                                      <th>IP</th>
                                      <th>Status</th>
                                      <th>Action</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr ng-repeat="worker in vm.initializeForm.workers.workers">
                                      <td style="vertical-align: middle;">{{worker.name}}</td>
                                      <td style="vertical-align: middle;">{{worker.address}}</td>
                                      <td style="vertical-align: middle;">
                                        <i class="fa fa-check" style="color: green;" ng-if="!worker.isProcessing &&
                                          !worker.isFailed && worker.isInitialized" tooltip-placement="right" uib-tooltip="initialized"></i>
                                        <i class="fa fa-times" style="color: red;" ng-if="!worker.isProcessing && worker.isFailed" tooltip-placement="right" uib-tooltip="failed"></i>
                                        <span ng-if="worker.isProcessing">initializing...</span>
                                        <span ng-if="!worker.isProcessing && !worker.isFailed && !worker.isInitialized">
                                          not initialized
                                        </span>
                                      </td>
                                      <td><i class="fa fa-trash fa-danger fa-2x cursor-pointer" ng-click="vm.removeWorker(worker)"></i></td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                              <div class="col-md-12 m-t-10">
                                <div class="card-box col-md-12">
                                  <div class="row">
                                    <div class="col-md-12">
                                      <div class="toggle-bar">
                                        <input id="checkbox_for_adding_worker" type="checkbox"
                                          ng-model="vm.addNewWorker" ng-disabled="vm.initializing ||
                                          vm.installing || vm.saving || vm.restartingServices"
                                          class="js-switch-small" ui-switch="{color: '#00b19d'}" ng-click="vm.showAddNewWorker()"/>
                                        <label for="checkbox_for_adding_worker">
                                          <b> Add a new swarm worker </b>
                                        </label>
                                      </div>
                                      <div class="row" ng-if="vm.addNewWorker">
                                        <form class="form-horizontal" role="form" name="vm.addWorkerForm" novalidate>
                                          <div class="col-md-12">
                                            <div class="col-md-12 m-t-10">
                                              <div>
                                                <label class="control-label textAlignNone col-md-1">Name:</label>
                                                <div class="col-md-4">
                                                  <input type="text" class="form-control" name="workerName"
                                                    placeholder="worker name" ng-model="vm.initializeForm.workers.newWorker.name" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                                </div>
                                              </div>
                                            </div>
                                            <div class="col-md-12 m-t-10">
                                              <div>
                                                <label class="control-label textAlignNone col-md-1">IP:</label>
                                                <div class="col-md-4" ng-class="vm.initializeForm.workers.newWorker.address.length && vm.validateWorkerAddress(vm.initializeForm.workers.newWorker.address)">
                                                  <input type="text" class="form-control" name="workerAddress"
                                                    placeholder="0.0.0.0" ng-disabled="vm.initializing || vm.installing || vm.saving"
                                                    ng-model="vm.initializeForm.workers.newWorker.address"/>
                                                </div>
                                              </div>
                                            </div>
                                            <div class="col-md-12 m-t-10">
                                              <div class="col-md-5">
                                                <span class="text-dark m-b-10">
                                                  Please run this command on {{vm.initializeForm.workers.workers.length > 1 ? 'every' : 'your'}} node to authorize SSH access:
                                                </span>
                                                <div class="ss-action"></div>
                                                <div class="ship-console" style="word-break: break-all;"
                                                  id="copy-input-workers">
                                                  {{vm.initializeForm.sshCommand}}
                                                </div>
                                                <div class="text-right m-t-5 m-r-5">
                                                  <a href="" id="copy" data-clipboard-target="#copy-input-workers"
                                                    ng-click="vm.copyToClipboard()">
                                                    <i class="fa fa-copy text-primary m-r-5"></i>{{vm.copyText}}
                                                  </a>
                                                </div>
                                              </div>
                                            </div>
                                            <div class="col-md-12 m-t-10">
                                              <div class="checkbox checkbox-success m-t-0" ng-class="vm.initializeForm.workers.confirmCommand ? '' : 'has-error'">
                                                <div class="checkbox">
                                                  <input id="checkbox_confirmCommand" type="checkbox" ng-model="vm.initializeForm.workers.confirmCommand" ng-disabled="vm.initializing || vm.installing || vm.saving"/>
                                                  <label for="checkbox_confirmCommand">
                                                    Click here once you have run the above command on
                                                    {{vm.initializeForm.workers.workers.length > 1 ? 'every' : 'your'}} worker node
                                                  </label>
                                                </div>
                                              </div>
                                            </div>
                                            <div class="col-md-12 m-t-10">
                                              <div class="col-md-offset-4 col-md-2">
                                                <button class="btn btn-sm btn-primary"
                                                  ng-disabled="!vm.initializeForm.workers.confirmCommand ||
                                                  !vm.initializeForm.workers.newWorker.name ||
                                                  vm.validateWorkerAddress(vm.initializeForm.workers.newWorker.address) ||
                                                  vm.initializing || vm.installing || vm.saving"
                                                  ng-click="vm.addWorker(vm.initializeForm.workers.newWorker)">Save</button>
                                                <button class="btn btn-sm btn-default" ng-click="vm.cancelAddWorker()" ng-disabled="vm.initializing || vm.installing || vm.saving">Cancel</button>
                                              </div>
                                            </div>
                                          </div>
                                        </form>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  </div><!-- END card-box -->
                </div><!-- END portlet-body -->
              </div><!-- END bg-swarm -->

            </div><!-- END portlet -->
          </div><!-- END col-md-12 -->
        <!-- END Swarm -->

        <!-- START Secrets -->
        <div class="row">
          <div class="col-md-12">
            <div class="portlet">
              <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#bg-secrets">
                <h3 class="portlet-title text-dark col-md-3">
                    SECRETS
                </h3>
                <div class="col-md-6 alignTextCenter" style="padding: 5px;">
                  <span class="divider"></span>
                  <span class="label label-processing" ng-if="vm.systemSettings.secrets.isProcessing">initializing...</span>
                  <span class="label label-{{vm.systemSettings.secrets.isInitialized ? 'green' : 'waiting'}}" ng-if="!vm.systemSettings.secrets.isProcessing && !vm.systemSettings.secrets.isFailed">
                    {{vm.systemSettings.secrets.isInitialized ? 'initialized' : 'not initialized'}}
                  </span>
                  <span class="label label-failure" ng-if="!vm.systemSettings.secrets.isProcessing && vm.systemSettings.secrets.isFailed">failed &#x26a0;</span>
                </div>
                <div class="portlet-widgets">
                  <span class="divider"></span>
                  <a class="btn" ng-click="vm.showLogModal('secrets'); $event.stopPropagation();" tooltip-placement="top"
                    uib-tooltip="logs" ng-disabled="!vm.systemSettings.secrets.isProcessing && !vm.systemSettings.secrets.isFailed && !vm.systemSettings.secrets.isInitialized"><i class="fa fa-paperclip"></i></a>
                  <a data-toggle="collapse" data-target="#bg-secrets" class="{{vm.initialized ? 'collapsed' : ''}}"><i class="ion-minus-round cursor-pointer"></i></a>
                </div>
                <div class="clearfix"></div>
              </div>

              <div id="bg-secrets" class="panel-collapse {{vm.initialized ? 'collapse' : 'collapse in'}}">
                <div class="portlet-body">

                  <div class="row">
                    <div class="col-md-4" ng-if="!vm.systemSettings.secrets.isInitialized">
                      <h5>Install Secrets on:</h5>
                      <select class="form-control"
                        ng-disabled="vm.systemSettings.secrets.isInitialized || vm.initializing"
                        ng-change="vm.showInstallLocationModal('secrets', 'dropdown')"
                        ng-model="vm.initializeForm.secrets.initType">
                        <option value="admiral">This node</option>
                        <option value="new">New node</option>
                        <option value="existing">Existing node</option>
                      </select>
                    </div>
                    <div class="col-md-4 m-t-5" ng-if="!vm.systemSettings.secrets.isInitialized">
                      <div ng-if="vm.initializeForm.secrets.address">
                        <h5>IP address where Secret is installed:</h5>
                        <span>{{vm.initializeForm.secrets.address}}</span>
                      </div>
                    </div>
                    <div class="col-md-9" ng-if="vm.systemSettings.secrets.isInitialized">
                      <div class="col-md-12" ng-if="vm.systemSettings.secrets.address">
                        <label class="control-label textAlignNone col-md-2">Secrets Address: </label>
                        <span style="word-wrap: break-word;" class="col-md-4">{{vm.systemSettings.secrets.address}}</span>
                      </div>
                      <div class="col-md-12" ng-if="vm.systemSettings.secrets.port">
                        <label class="control-label textAlignNone col-md-2">Secrets Port: </label>
                        <span style="word-wrap: break-word;" class="col-md-4">{{vm.systemSettings.secrets.port}}</span>
                      </div>
                    </div>
                  </div><!--row ends-->
                  <div class="row" ng-if="vm.initializeForm.secrets.initType !== 'admiral'">
                    <div class="col-md-3" ng-if="!vm.systemSettings.secrets.isInitialized && !vm.initializing">
                      <button class="btn btn-default waves-effect waves-light m-t-10"
                        ng-disabled="vm.systemSettings.secrets.isInitialized || vm.initializing || vm.installing || vm.saving"
                        ng-click="vm.showInstallLocationModal('secrets', 'button')">
                        Add new/existing node details
                      </button>
                    </div>
                    <div class="col-md-9 m-t-10" ng-if="vm.initializeForm.secrets.initType === 'new'">
                      <h5 ng-if="!vm.initializeForm.secrets.address"><code>Kindly complete the details for adding a new node.</code></h5>
                    </div>
                    <div class="col-md-9 m-t-10" ng-if="vm.initializeForm.secrets.initType === 'existing'">
                      <h5 ng-if="!vm.initializeForm.secrets.address"><code>Kindly complete the details for adding an existing node.</code></h5>
                    </div>
                  </div>

                </div><!-- END portlet-body -->
              </div><!-- END bg-secrets -->


            </div><!-- END portlet -->
          </div><!-- END col-md-12 -->
        </div><!-- END ROW -->
        <!-- END Secrets -->

        <!-- START RabbitMQ -->
        <div class="row">
          <div class="col-md-12">
            <div class="portlet">
              <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#bg-rabbitmq">
                <h3 class="portlet-title text-dark col-md-3">
                    MESSAGING
                </h3>
                <div class="col-md-6 alignTextCenter" style="padding: 5px;">
                  <span class="divider"></span>
                  <span class="label label-processing" ng-if="vm.systemSettings.msg.isProcessing">initializing...</span>
                  <span class="label label-{{vm.systemSettings.msg.isInitialized ? 'green' : 'waiting'}}" ng-if="!vm.systemSettings.msg.isProcessing && !vm.systemSettings.msg.isFailed">
                    {{vm.systemSettings.msg.isInitialized ? 'initialized' : 'not initialized'}}
                  </span>
                  <span class="label label-failure" ng-if="!vm.systemSettings.msg.isProcessing && vm.systemSettings.msg.isFailed">failed &#x26a0;</span>
                </div>
                <div class="portlet-widgets">
                  <span class="divider"></span>
                  <a class="btn" ng-click="vm.showLogModal('msg'); $event.stopPropagation();"
                    ng-disabled="!vm.systemSettings.msg.isProcessing && !vm.systemSettings.msg.isFailed && !vm.systemSettings.msg.isInitialized" tooltip-placement="top"
                    uib-tooltip="logs"><i class="fa fa-paperclip"></i></a>
                  <a data-toggle="collapse" data-target="#bg-rabbitmq" class="{{vm.initialized ? 'collapsed' : ''}}"><i class="ion-minus-round cursor-pointer"></i></a>
                </div>
                <div class="clearfix"></div>
              </div>

              <div id="bg-rabbitmq" class="panel-collapse {{vm.initialized ? 'collapse' : 'collapse in'}}">
                <div class="portlet-body">

                  <div class="row">
                    <div class="col-md-4" ng-if="!vm.systemSettings.msg.isInitialized">
                      <h5>Install RabbitMQ on:</h5>
                      <select class="form-control"
                        ng-disabled="vm.systemSettings.msg.isInitialized || vm.initializing"
                        ng-change="vm.showInstallLocationModal('msg', 'dropdown')"
                        ng-model="vm.initializeForm.msg.initType">
                        <option value="admiral">This node</option>
                        <option value="new">New node</option>
                        <option value="existing">Existing node</option>
                      </select>
                    </div>
                    <div class="col-md-4" ng-if="vm.initializeForm.msg.initType === 'admiral' && !vm.systemSettings.msg.isInitialized">
                      <h5 ng-if="vm.initializeForm.msg.initType !== 'existing'">Choose a password for RabbitMQ:</h5>
                      <h5 ng-if="vm.initializeForm.msg.initType === 'existing'">RabbitMQ Password:</h5>
                      <div ng-class="vm.validatePassword(vm.initializeForm.msg.password)" class="m-b-10">
                        <input type="text" class="form-control input-sm" name="msgPassword"
                        ng-model="vm.initializeForm.msg.password" placeholder="8 or more characters" ng-disabled="vm.systemSettings.msg.isInitialized || vm.initializing || vm.installing || vm.saving"/>
                      </div>
                    </div>
                    <div class="col-md-4 m-t-5" ng-if="vm.initializeForm.msg.initType === 'new' || vm.initializeForm.msg.initType === 'existing' && !vm.systemSettings.msg.isInitialized">
                      <div class="col-md-12" ng-if="vm.initializeForm.msg.address">
                        <label class="control-label textAlignNone col-md-3">IP address where RabbitMQ is installed: </label>
                        <span style="word-wrap: break-word;" class="col-md-4">{{vm.initializeForm.msg.address}}</span>
                      </div>
                    </div>
                    <div class="col-md-9" ng-if="vm.systemSettings.msg.isInitialized">
                      <div class="col-md-12" ng-if="vm.installForm.msg.rabbitmqCreds.username">
                        <label class="control-label textAlignNone col-md-3">RabbitMQ Username: </label>
                        <span style="word-wrap: break-word;" class="col-md-2">
                          {{vm.installForm.msg.rabbitmqCreds.username}}</span>
                      </div>
                      <div class="col-md-12" ng-if="vm.installForm.msg.rabbitmqCreds.password">
                        <label class="control-label textAlignNone col-md-3">RabbitMQ Password: </label>
                        <span style="word-wrap: break-word;" class="col-md-2">
                          {{vm.installForm.msg.rabbitmqCreds.password}}</span>
                      </div>
                      <div class="col-md-12" ng-if="vm.systemSettings.msg.amqpPort">
                        <label class="control-label textAlignNone col-md-3">RabbitMQ Port: </label>
                        <span style="word-wrap: break-word;" class="col-md-2">
                          {{vm.systemSettings.msg.amqpPort}}</span>
                      </div>
                      <div class="col-md-12" ng-if="vm.systemSettings.msg.adminPort">
                        <label class="control-label textAlignNone col-md-3">RabbitMQ Admin Port: </label>
                        <span style="word-wrap: break-word;" class="col-md-2">
                          {{vm.systemSettings.msg.adminPort}}</span>
                      </div>
                      <h4 class="control-label col-md-2 textAlignNone m-t-10">Service Addresses:</h4>
                      <div class="col-md-12" ng-if="vm.installForm.msg.rabbitmqCreds.data.amqpUrl">
                        <label class="control-label textAlignNone col-md-3">AMQP URL: </label>
                        <span style="word-wrap: break-word;" class="col-md-8">
                          {{vm.installForm.msg.rabbitmqCreds.data.amqpUrl}}</span>
                      </div>
                      <div class="col-md-12">
                        <label class="control-label textAlignNone col-md-3"
                          ng-if="vm.installForm.msg.rabbitmqCreds.localAddress">Local AMQP Address: </label>
                        <span style="word-wrap: break-word;" class="col-md-8">
                          {{vm.installForm.msg.rabbitmqCreds.localAddress}}</span>
                      </div>
                      <div class="col-md-12" ng-if="vm.installForm.msg.rabbitmqCreds.data.amqpUrlRoot">
                        <label class="control-label textAlignNone col-md-3">AMQP Root URL: </label>
                        <span style="word-wrap: break-word;" class="col-md-8">
                          {{vm.installForm.msg.rabbitmqCreds.data.amqpUrlRoot}}</span>
                      </div>
                      <div class="col-md-12">
                        <label class="control-label textAlignNone col-md-3"
                          ng-if="vm.installForm.msg.rabbitmqCreds.localRootAddress">Local AMQP Root Address: </label>
                        <span style="word-wrap: break-word;" class="col-md-8">
                          {{vm.installForm.msg.rabbitmqCreds.localRootAddress}}</span>
                      </div>
                      <div class="col-md-12" ng-if="vm.installForm.msg.rabbitmqCreds.data.amqpUrlAdmin">
                        <label class="control-label textAlignNone col-md-3">AMQP Admin URL: </label>
                        <span style="word-wrap: break-word;" class="col-md-8">
                          {{vm.installForm.msg.rabbitmqCreds.data.amqpUrlAdmin}}</span>
                      </div>
                      <div class="col-md-12">
                        <label class="control-label textAlignNone col-md-3"
                          ng-if="vm.installForm.msg.rabbitmqCreds.localAdminAddress">Local AMQP Admin Address: </label>
                        <span style="word-wrap: break-word;" class="col-md-8">
                          {{vm.installForm.msg.rabbitmqCreds.localAdminAddress}}</span>
                      </div>
                      <div class="col-md-12" ng-if="vm.installForm.msg.rabbitmqCreds.data.amqpDefaultExchange">
                        <label class="control-label textAlignNone col-md-3">AMQP Default URL: </label>
                        <span style="word-wrap: break-word;" class="col-md-8">
                          {{vm.installForm.msg.rabbitmqCreds.data.amqpDefaultExchange}}</span>
                      </div>
                      <div class="col-md-12 m-t-10">
                        <div class="card-box col-md-12">
                          <div class="row">
                            <div class="col-md-12">
                              <div class="toggle-bar">
                                <input id="checkbox_for_msg_url" type="checkbox"
                                  ng-model="vm.isEditingRabbitMqUrl"  ng-disabled="vm.initializing ||
                                  vm.installing || vm.saving || vm.restartingServices"
                                  class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                <label for="checkbox_for_msg_url">
                                  <b> Do you want to change the friendly url of Messaging? </b>
                                </label>
                              </div>
                              <div class="row" ng-if="vm.isEditingRabbitMqUrl">
                                <form class="form-horizontal" role="form" name="vm.msgInstallForm" novalidate>
                                  <div class="col-md-12" ng-if="vm.isEditingRabbitMqUrl">
                                    <label class="control-label textAlignNone col-md-2">Protocol</label>
                                    <div class="col-md-3 m-t-5">
                                      <span>
                                        <input type="radio" ng-model="vm.installForm.msg.rabbitmqCreds.isSecure"
                                          ng-disabled="vm.initializing || vm.installing || vm.saving"
                                          ng-value="false">
                                        amqp
                                      </span>
                                      <span>
                                        <input type="radio" ng-model="vm.installForm.msg.rabbitmqCreds.isSecure"
                                          ng-disabled="vm.initializing || vm.installing || vm.saving"
                                          ng-value="true">
                                        amqps
                                      </span>
                                    </div>
                                  </div>
                                  <div class="col-md-12 m-t-10">
                                    <div ng-if="vm.isEditingRabbitMqUrl">
                                      <label class="control-label textAlignNone col-md-2">FQDN</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" name="msgUrl"
                                          ng-model="vm.installForm.msg.rabbitmqCreds.fqdn" ng-disabled="vm.initializing || vm.installing || vm.saving" ng-pattern="vm.urlRegex"/>
                                        <dd class="text-danger" ng-show="vm.msgInstallForm.msgUrl.$dirty">
                                          <span ng-show="vm.msgInstallForm.msgUrl.$error.pattern">URL is invalid.</span>
                                        </dd>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-md-12 m-t-10">
                                    <div ng-if="vm.isEditingRabbitMqUrl">
                                      <label class="control-label textAlignNone col-md-2">Root FQDN</label>
                                      <div class="col-md-6">
                                        <input type="text" class="form-control" name="msgRootUrl"
                                          ng-model="vm.installForm.msg.rabbitmqCreds.rootFqdn" ng-disabled="vm.initializing || vm.installing || vm.saving" ng-pattern="vm.urlRegex"/>
                                        <dd class="text-danger" ng-show="vm.msgInstallForm.msgRootUrl.$dirty">
                                          <span ng-show="vm.msgInstallForm.msgRootUrl.$error.pattern">URL is invalid.</span>
                                        </dd>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-md-12 m-t-10">
                                    <div ng-if="vm.isEditingRabbitMqUrl">
                                      <div>
                                        <label class="control-label textAlignNone col-md-2">Admin FQDN</label>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control" name="msgAdminUrl"
                                            ng-model="vm.installForm.msg.rabbitmqCreds.adminFqdn" ng-disabled="vm.initializing || vm.installing || vm.saving" ng-pattern="vm.urlRegex"/>
                                          <dd class="text-danger" ng-show="vm.msgInstallForm.msgAdminUrl.$dirty">
                                            <span ng-show="vm.msgInstallForm.msgAdminUrl.$error.pattern">URL is invalid.</span>
                                          </dd>
                                        </div>
                                        <button ng-if="vm.isEditingRabbitMqUrl" class="btn btn-sm btn-primary"
                                          ng-disabled="vm.msgInstallForm.msgUrl.$error.url || vm.msgInstallForm.msgRootUrl.$error.url || vm.msgInstallForm.msgAdminUrl.$error.url || vm.initializing || vm.installing || vm.saving"
                                          ng-click="vm.updateRabbitMqUrl(vm.installForm.msg.rabbitmqCreds.isSecure,
                                            vm.installForm.msg.rabbitmqCreds.fqdn, vm.installForm.msg.rabbitmqCreds.rootFqdn, vm.installForm.msg.rabbitmqCreds.adminFqdn)">Save</button>
                                        <button ng-if="vm.isEditingRabbitMqUrl" class="btn btn-sm btn-default" ng-click="vm.cancelRabbitMqUpdate()">Cancel</button>
                                      </div>
                                    </div>
                                  </div>
                                </form>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div><!--row ends-->

                  <div class="row" ng-if="vm.initializeForm.msg.initType !== 'admiral' && !vm.systemSettings.msg.isInitialized">
                    <div class="col-md-3" ng-if="!vm.systemSettings.msg.isInitialized && !vm.initializing">
                      <button class="btn btn-default waves-effect waves-light m-t-10"
                        ng-disabled="vm.systemSettings.msg.isInitialized || vm.initializing || vm.installing || vm.saving"
                        ng-click="vm.showInstallLocationModal('msg', 'button')">
                        Add new/existing node details
                      </button>
                    </div>
                    <div class="col-md-9 m-t-10" ng-if="vm.initializeForm.msg.initType === 'new'">
                      <h5 ng-if="!vm.initializeForm.msg.address"><code>Kindly complete the details for adding a new node.</code></h5>
                    </div>
                    <div class="col-md-9 m-t-10" ng-if="vm.initializeForm.msg.initType === 'existing'">
                      <h5 ng-if="!vm.initializeForm.msg.address"><code>Kindly complete the details for adding an existing node.</code></h5>
                    </div>
                  </div>

                </div><!-- END portlet-body -->
              </div><!-- END bg-default12 -->


            </div><!-- END portlet -->
          </div><!-- END col-md-12 -->

        </div><!-- END ROW -->
        <!-- END RabbitMQ -->

        <!-- START State -->
        <div class="row">
          <div class="col-md-12">
            <div class="portlet">
              <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#state">
                <h3 class="portlet-title text-dark col-md-3">
                  STATE
                </h3>
                <div class="col-md-6 alignTextCenter" style="padding: 5px;">
                  <span class="divider"></span>
                  <span class="label label-processing" ng-if="vm.systemSettings.state.isProcessing">initializing...</span>
                  <span class="label label-{{vm.systemSettings.state.isInitialized ? 'green' : 'waiting'}}" ng-if="!vm.systemSettings.state.isProcessing && !vm.systemSettings.state.isFailed">
                    {{vm.systemSettings.state.isInitialized ? 'initialized' : 'not initialized'}}
                  </span>
                  <span class="label label-failure" ng-if="!vm.systemSettings.state.isProcessing && vm.systemSettings.state.isFailed">failed &#x26a0;</span>
                </div>
                <div class="portlet-widgets">
                  <span class="divider"></span>
                  <a class="btn" ng-click="vm.showLogModal('state'); $event.stopPropagation();"
                    ng-disabled="!vm.systemSettings.state.isProcessing && !vm.systemSettings.state.isFailed && !vm.systemSettings.state.isInitialized" tooltip-placement="top"
                    uib-tooltip="logs"><i class="fa fa-paperclip"></i></a>
                  <a data-toggle="collapse" data-target="#state" class="{{vm.initialized ? 'collapsed' : ''}}"><i class="ion-minus-round cursor-pointer"></i></a>
                </div>
                <div class="clearfix"></div>
              </div>

              <div id="state" class="panel-collapse {{vm.initialized ? 'collapse' : 'collapse in'}}">
                <div class="portlet-body">


                  <div class="row">
                    <div class="col-md-4">
                      <h5>Store State in:</h5>
                      <select class="form-control"
                        ng-disabled="vm.initializing"
                        ng-change="vm.changeStateType()"
                        ng-model="vm.initializeForm.state.type">
                        <option value="amazonKeys">AWS S3 (requires AWS keys)</option>
                        <option value="gitlabCreds">GitLab</option>
                        <option value="none">No state (some Assembly Lines job types will fail)</option>
                      </select>
                    </div>
                  </div><!-- END row -->

                  <div class="row" ng-if="vm.initializeForm.state.type === 'amazonKeys'">
                    <div class="col-md-4" ng-if="!vm.systemSettings.state.isInitialized">
                      <div ng-class="vm.validatePassword(vm.initializeForm.state.accessKey)" class="m-b-10">
                        <label><h5>Access Key:</h5></label>
                        <input type="text" class="form-control input-sm" name="stateS3AccessKey"
                          ng-model="vm.initializeForm.state.accessKey" ng-disabled="vm.installing || vm.saving"/>
                      </div>
                      <div ng-class="vm.validatePassword(vm.initializeForm.state.secretKey)" class="m-b-10">
                        <label><h5>Secret Key:</h5></label>
                        <input type="text" class="form-control input-sm" name="stateS3SecretKey"
                          ng-model="vm.initializeForm.state.secretKey" ng-disabled="vm.installing || vm.saving"/>
                      </div>
                      <div class="m-b-10">
                        <label><h5>Root S3 Bucket:</h5></label>
                        <input type="text" class="form-control input-sm" name="rootS3Bucket"
                          ng-model="vm.installForm.systemSettings.rootS3Bucket" placeholder="a name will be generated if blank" ng-disabled="vm.installing || vm.saving"/>
                      </div>
                    </div>
                    <div class="col-md-9" ng-if="vm.systemSettings.state.isInitialized">
                      <div class="col-md-12" ng-if="vm.installForm.state.amazonKeys.data.accessKey">
                        <label class="control-label textAlignNone col-md-2">Access Key: </label>
                        <span style="word-wrap: break-word;" class="col-md-4">
                          {{vm.installForm.state.amazonKeys.data.accessKey}}</span>
                      </div>
                      <div class="col-md-12" ng-if="vm.installForm.systemSettings.rootS3Bucket">
                        <label class="control-label textAlignNone col-md-2">Root S3 Bucket: </label>
                        <span style="word-wrap: break-word;" class="col-md-4">
                          {{vm.installForm.systemSettings.rootS3Bucket}}</span>
                      </div>
                    </div>
                  </div><!-- END row -->


                  <div class="row" ng-if="vm.initializeForm.state.type === 'gitlabCreds'">
                    <div class="col-md-4" ng-if="!vm.systemSettings.state.isInitialized">
                      <h5>Install State on:</h5>
                      <select class="form-control"
                        ng-disabled="vm.systemSettings.state.isInitialized || vm.initializing"
                        ng-change="vm.showInstallLocationModal('state', 'dropdown')"
                        ng-model="vm.initializeForm.state.initType">
                        <option value="admiral">This node</option>
                        <option value="new">New node</option>
                        <option value="existing">Existing node</option>
                      </select>
                    </div>
                    <div class="col-md-4" ng-if="vm.initializeForm.state.initType === 'admiral' && !vm.systemSettings.state.isInitialized">
                      <h5 ng-if="vm.initializeForm.state.initType !== 'existing'">Choose a password for State:</h5>
                      <div ng-class="vm.validatePassword(vm.initializeForm.state.rootPassword)" class="m-b-10">
                        <input type="text" class="form-control input-sm" name="statePassword"
                        ng-model="vm.initializeForm.state.rootPassword" placeholder="8 or more characters" ng-disabled="vm.systemSettings.state.isInitialized || vm.initializing || vm.installing || vm.saving"/>
                      </div>
                    </div>
                    <div class="col-md-4 m-t-5" ng-if="vm.initializeForm.state.initType !== 'admiral' &&
                      !vm.systemSettings.state.isInitialized">
                      <div ng-if="vm.initializeForm.state.address">
                        <h5 ng-if="!vm.systemSettings.state.isInitialized">IP address where State is to be installed:</h5>
                        <h5 ng-if="vm.systemSettings.state.isInitialized">IP address where State is installed:</h5>
                        <span>{{vm.initializeForm.state.address}}</span>
                      </div>
                    </div>
                    <div class="col-md-9" ng-if="vm.systemSettings.state.isInitialized">
                      <div class="col-md-12" ng-if="vm.installForm.state.gitlabCreds.fqdn">
                        <label class="control-label textAlignNone col-md-2">Url: </label>
                        <span style="word-wrap: break-word;" class="col-md-4">
                          {{vm.installForm.state.gitlabCreds.data.url}}</span>
                      </div>
                      <div class="col-md-12" ng-if="vm.installForm.state.gitlabCreds.localAddress">
                        <label class="control-label textAlignNone col-md-2">Local Address: </label>
                        <span style="word-wrap: break-word;" class="col-md-4">
                          {{vm.installForm.state.gitlabCreds.localAddress}}</span>
                      </div>
                      <div class="col-md-12" ng-if="vm.installForm.state.gitlabCreds.data.password">
                        <label class="control-label textAlignNone col-md-2">State Password: </label>
                        <span style="word-wrap: break-word;" class="col-md-4">
                          {{vm.installForm.state.gitlabCreds.data.password}}</span>
                      </div>
                      <div class="col-md-12" ng-if="vm.installForm.state.gitlabCreds.data.username">
                        <label class="control-label textAlignNone col-md-2">State Username: </label>
                        <span style="word-wrap: break-word;" class="col-md-4">
                          {{vm.installForm.state.gitlabCreds.data.username}}</span>
                      </div>
                      <div class="col-md-12" ng-if="vm.systemSettings.state.port">
                        <label class="control-label textAlignNone col-md-2">State Port: </label>
                        <span style="word-wrap: break-word;" class="col-md-4">
                          {{vm.systemSettings.state.port}}</span>
                      </div>
                      <div class="col-md-12" ng-if="vm.systemSettings.state.sshPort">
                        <label class="control-label textAlignNone col-md-2">State SSH Port: </label>
                        <span style="word-wrap: break-word;" class="col-md-4">
                          {{vm.systemSettings.state.sshPort}}</span>
                      </div>
                      <div class="col-md-12" ng-if="vm.systemSettings.state.securePort">
                        <label class="control-label textAlignNone col-md-2">State Secure Port: </label>
                        <span style="word-wrap: break-word;" class="col-md-4">
                          {{vm.systemSettings.state.securePort}}</span>
                      </div>
                      <div class="col-md-12 m-t-10">
                        <div class="card-box col-md-12">
                          <div class="row">
                            <div class="col-md-12">
                              <div class="toggle-bar">
                                <input id="checkbox_for_state_url" type="checkbox"
                                  ng-model="vm.isEditingStateUrl"  ng-disabled="vm.initializing ||
                                  vm.installing || vm.saving || vm.restartingServices"
                                  class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                <label for="checkbox_for_state_url">
                                  <b> Do you want to change the friendly url of State? </b>
                                </label>
                              </div>
                              <div class="row" ng-if="vm.isEditingStateUrl">
                                <form class="form-horizontal" role="form" name="vm.stateInstallForm" novalidate>
                                  <div class="col-md-12" ng-if="vm.isEditingStateUrl">
                                    <label class="control-label textAlignNone col-md-1">Protocol</label>
                                    <div class="col-md-3 m-t-5">
                                      <span>
                                        <input type="radio" ng-model="vm.installForm.state.gitlabCreds.isSecure"
                                          ng-disabled="vm.initializing || vm.installing || vm.saving"
                                          ng-value="false">
                                        http
                                      </span>
                                      <span>
                                        <input type="radio" ng-model="vm.installForm.state.gitlabCreds.isSecure"
                                          ng-disabled="vm.initializing || vm.installing || vm.saving"
                                          ng-value="true">
                                        https
                                      </span>
                                    </div>
                                  </div>
                                  <div class="col-md-12 m-t-10">
                                    <div ng-if="vm.isEditingStateUrl">
                                      <div>
                                        <label class="control-label textAlignNone col-md-1">FQDN</label>
                                        <div class="col-md-4">
                                          <input type="text" class="form-control" name="stateUrl"
                                            ng-model="vm.installForm.state.gitlabCreds.fqdn" ng-disabled="vm.initializing || vm.installing || vm.saving" ng-pattern="vm.urlRegex"/>
                                          <dd class="text-danger" ng-show="vm.stateInstallForm.stateUrl.$dirty">
                                            <span ng-show="vm.stateInstallForm.stateUrl.$error.pattern">URL is invalid.</span>
                                          </dd>
                                          <span class="text-muted m-b-20 font-13" ng-if="vm.systemSettings.workers.length > 1">
                                            This field requires a Load Balanced IP/DNS.
                                          </span>
                                        </div>
                                        <button ng-if="vm.isEditingStateUrl" class="btn btn-sm btn-primary"
                                          ng-disabled="vm.stateInstallForm.stateUrl.$error.url || vm.initializing || vm.installing || vm.saving"
                                          ng-click="vm.updateStateUrl(vm.installForm.state.gitlabCreds.isSecure,
                                            vm.installForm.state.gitlabCreds.fqdn)">Save</button>
                                        <button ng-if="vm.isEditingStateUrl" class="btn btn-sm btn-default" ng-disabled="vm.initializing || vm.installing || vm.saving" ng-click="vm.cancelStateUpdate()">Cancel</button>
                                      </div>
                                    </div>
                                  </div>
                                </form>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div><!-- END row -->

                  <div class="row" ng-if="vm.initializeForm.state.migrationRequired">
                    <div class="col-md-9">
                      <div class="card-box col-md-12">
                        <div class="row">
                          <div class="col-md-12">
                            <div class="toggle-bar">
                              <input id="checkbox_for_state_migration" type="checkbox"
                                ng-model="vm.initializeForm.state.migrationConfirmed"  ng-disabled="vm.initializing || vm.installing || vm.saving || vm.restartingServices"
                                class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                              <label for="checkbox_for_state_migration">
                                <b> Migration is required to switch state.  Click to confirm that you intend to change state storage. </b>
                              </label>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row" ng-if="vm.initializeForm.state.type === 'gitlabCreds' && vm.initializeForm.state.initType !== 'admiral' && !vm.systemSettings.state.isInitialized">
                    <div class="col-md-3" ng-if="!vm.systemSettings.state.isInitialized && !vm.initializing">
                      <button class="btn btn-default waves-effect waves-light m-t-10"
                        ng-disabled="vm.systemSettings.state.isInitialized || vm.initializing || vm.installing || vm.saving"
                        ng-click="vm.showInstallLocationModal('state', 'button')">
                        Add new/existing node details
                      </button>
                    </div>
                    <div class="col-md-9 m-t-10" ng-if="vm.initializeForm.state.initType === 'new'">
                      <h5 ng-if="!vm.initializeForm.state.address"><code>Kindly complete the details for adding a new node.</code></h5>
                    </div>
                    <div class="col-md-9 m-t-10" ng-if="vm.initializeForm.state.initType === 'existing'">
                      <h5 ng-if="!vm.initializeForm.state.address"><code>Kindly complete the details for adding an existing node.</code></h5>
                    </div>
                  </div>
                </div><!-- END portlet-body -->
              </div><!-- END state -->


            </div><!-- END portlet -->
          </div><!-- END col-md-12 -->
        </div><!-- END ROW -->
        <!-- END State -->

        <!-- START Redis -->
        <div class="row">
          <div class="col-md-12">
            <div class="portlet">
              <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#bg-redis">
                <h3 class="portlet-title text-dark col-md-3" data-target="#bg-redis">
                    REDIS
                </h3>
                <div class="col-md-6 alignTextCenter" style="padding: 5px;">
                  <span class="divider"></span>
                  <span class="label label-processing" ng-if="vm.systemSettings.redis.isProcessing">initializing...</span>
                  <span class="label label-{{vm.systemSettings.redis.isInitialized ? 'green' : 'waiting'}}" ng-if="!vm.systemSettings.redis.isProcessing && !vm.systemSettings.redis.isFailed">
                    {{vm.systemSettings.redis.isInitialized ? 'initialized' : 'not initialized'}}
                  </span>
                  <span class="label label-failure" ng-if="!vm.systemSettings.redis.isProcessing && vm.systemSettings.redis.isFailed">failed &#x26a0;</span>
                </div>
                <div class="portlet-widgets">
                    <span class="divider"></span>
                    <a class="btn cursor-pointer" ng-click="vm.showLogModal('redis'); $event.stopPropagation();" tooltip-placement="top" uib-tooltip="Logs" ng-disabled="!vm.systemSettings.redis.isProcessing && !vm.systemSettings.redis.isFailed && !vm.systemSettings.redis.isInitialized">
                    <i class="fa fa-paperclip"></i></a>
                    <a data-toggle="collapse" data-target="#bg-redis" class="{{vm.initialized ? 'collapsed' : ''}}"><i class="ion-minus-round cursor-pointer"></i></a>
                </div>
                <div class="clearfix"></div>
              </div>
              <div id="bg-redis" class="panel-collapse {{vm.initialized ? 'collapse' : 'collapse in'}}">
                <div class="portlet-body">

                  <div class="row">
                    <div class="col-md-4" ng-if="!vm.systemSettings.redis.isInitialized">
                      <h5>Install Redis on:</h5>
                      <select class="form-control"
                        ng-disabled="vm.systemSettings.redis.isInitialized || vm.initializing"
                        ng-change="vm.showInstallLocationModal('redis', 'dropdown')"
                        ng-model="vm.initializeForm.redis.initType">
                        <option value="admiral">This node</option>
                        <option value="new">New node</option>
                        <option value="existing">Existing node</option>
                      </select>
                    </div>
                    <div class="col-md-4 m-t-5" ng-if="!vm.systemSettings.redis.isInitialized">
                      <div ng-if="vm.initializeForm.redis.address">
                        <h5>IP address where Redis is installed:</h5>
                        <span>{{vm.initializeForm.redis.address}}</span>
                      </div>
                    </div>
                    <div class="col-md-9" ng-if="vm.systemSettings.redis.isInitialized">
                      <div class="col-md-12" ng-if="vm.installForm.redis.url.data.url">
                        <label class="control-label textAlignNone col-md-2">URL: </label>
                        <span style="word-wrap: break-word;" class="col-md-2">{{vm.installForm.redis.url.data.url}}</span>
                      </div>
                      <div class="col-md-12" ng-if="vm.installForm.redis.url.localAddress">
                        <label class="control-label textAlignNone col-md-2">Local Address: </label>
                        <span style="word-wrap: break-word;" class="col-md-2">{{vm.installForm.redis.url.localAddress}}</span>
                      </div>
                      <div class="col-md-12 m-t-10">
                        <div class="card-box col-md-12">
                          <div class="row">
                            <div class="col-md-12">
                              <div class="toggle-bar">
                                <input id="checkbox_for_redis_url" type="checkbox"
                                  ng-model="vm.isEditingRedisUrl"  ng-disabled="vm.initializing ||
                                  vm.installing || vm.saving || vm.restartingServices"
                                  class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                <label for="checkbox_for_redis_url">
                                  <b> Do you want to change the friendly url of Redis? </b>
                                </label>
                              </div>
                              <div class="row" ng-if="vm.isEditingRedisUrl">
                                <form class="form-horizontal" role="form" name="vm.redisInstallForm" novalidate>
                                  <div ng-if="vm.isEditingRedisUrl">
                                    <div>
                                      <label class="control-label textAlignNone col-md-1">FQDN</label>
                                      <div class="col-md-4">
                                        <input type="text" class="form-control" name="redisUrl"
                                          ng-model="vm.installForm.redis.url.fqdn" ng-disabled="vm.initializing || vm.installing || vm.saving" ng-pattern="vm.urlRegex"/>
                                        <dd class="text-danger" ng-show="vm.redisInstallForm.redisUrl.$dirty">
                                          <span ng-show="vm.redisInstallForm.redisUrl.$error.pattern">URL is invalid.</span>
                                        </dd>
                                        <span class="text-muted m-b-20 font-13" ng-if="vm.systemSettings.workers.length > 1">
                                          This field requires a Load Balanced IP/DNS.
                                        </span>
                                      </div>
                                      <button ng-if="vm.isEditingRedisUrl" class="btn btn-sm btn-primary"
                                        ng-disabled="vm.redisInstallForm.redisUrl.$error.url || vm.initializing || vm.installing || vm.saving"
                                        ng-click="vm.updateRedisUrl(vm.installForm.redis.url.fqdn)">Save</button>
                                      <button ng-if="vm.isEditingRedisUrl" class="btn btn-sm btn-default" ng-click="vm.cancelRedisUpdate()" ng-disabled="vm.initializing || vm.installing || vm.saving">Cancel</button>
                                    </div>
                                  </div>
                                </form>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div><!--row ends-->

                  <div class="row" ng-if="vm.initializeForm.redis.initType !== 'admiral' && !vm.systemSettings.redis.isInitialized">
                    <div class="col-md-3" ng-if="!vm.systemSettings.redis.isInitialized && !vm.initializing">
                      <button class="btn btn-default waves-effect waves-light m-t-10"
                        ng-disabled="vm.systemSettings.redis.isInitialized || vm.initializing || vm.installing || vm.saving"
                        ng-click="vm.showInstallLocationModal('redis', 'button')">
                        Add new/existing node details
                      </button>
                    </div>
                    <div class="col-md-9 m-t-10" ng-if="vm.initializeForm.redis.initType === 'new'">
                      <h5 ng-if="!vm.initializeForm.redis.address"><code>Kindly complete the details for adding a new node.</code></h5>
                    </div>
                    <div class="col-md-9 m-t-10" ng-if="vm.initializeForm.redis.initType === 'existing'">
                      <h5 ng-if="!vm.initializeForm.redis.address"><code>Kindly complete the details for adding an existing node.</code></h5>
                    </div>
                  </div>

                </div><!-- END portlet-body -->
              </div><!-- END bg-redis -->
            </div><!-- END portlet -->
          </div><!-- END col-md-12 -->
        </div><!-- END ROW -->
        <!-- END Redis -->

        <!-- START Database -->
        <div class="row">
          <div class="col-md-12">
            <div class="portlet">
              <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#database">
                <h3 class="portlet-title text-dark col-md-3">
                  Database
                </h3>
                <div class="col-md-6 alignTextCenter" style="padding: 5px;">
                  <span class="divider"></span>
                  <span class="label label-processing" ng-if="vm.systemSettings.db.isProcessing">initializing...</span>
                  <span class="label label-{{vm.systemSettings.db.isInitialized ? 'green' : 'waiting'}}" ng-if="!vm.systemSettings.db.isProcessing && !vm.systemSettings.db.isFailed">
                    {{vm.systemSettings.db.isInitialized ? 'initialized' : 'not initialized'}}
                  </span>
                  <span class="label label-failure" ng-if="!vm.systemSettings.db.isProcessing && vm.systemSettings.db.isFailed">failed &#x26a0;</span>
                </div>
                <div class="portlet-widgets">
                  <span class="divider"></span>
                  <a class="btn" ng-click="vm.showLogModal('db'); $event.stopPropagation();" tooltip-placement="top"
                    uib-tooltip="logs" ng-disabled="!vm.systemSettings.db.isProcessing && !vm.systemSettings.db.isFailed && !vm.systemSettings.db.isInitialized"><i class="fa fa-paperclip"></i></a>
                  <a data-toggle="collapse" data-target="#database" class="{{vm.initialized ? 'collapsed' : ''}}"><i class="ion-minus-round cursor-pointer"></i></a>
                </div>
                <div class="clearfix"></div>
              </div>

              <div id="database" class="panel-collapse {{vm.initialized ? 'collapse' : 'collapse in'}}">
                <div class="portlet-body">

                  <div class="row">
                    <div class="col-md-9">
                      <div class="col-md-12">
                        <label class="control-label textAlignNone col-md-2">Database Address: </label>
                        <span style="word-wrap: break-word;" class="col-md-8" ng-if="vm.systemSettings.db.isInitialized && vm.systemSettings.db.address">
                          {{vm.systemSettings.db.address}}</span>
                        <span style="word-wrap: break-word;" class="col-md-2" ng-if="!vm.systemSettings.db.isInitialized">-</span>
                      </div>
                      <div class="col-md-12">
                        <label class="control-label textAlignNone col-md-2">Database Port: </label>
                        <span style="word-wrap: break-word;" class="col-md-8" ng-if="vm.systemSettings.db.isInitialized && vm.systemSettings.db.port">
                          {{vm.systemSettings.db.port}}
                        </span>
                        <span style="word-wrap: break-word;" class="col-md-2" ng-if="!vm.systemSettings.db.isInitialized">-</span>
                      </div>
                      <div class="col-md-12">
                        <label class="control-label textAlignNone col-md-2">Database Name: </label>
                        <span style="word-wrap: break-word;" class="col-md-8" ng-if="vm.systemSettings.db.isInitialized && vm.systemSettings.db.dbName">
                          {{vm.systemSettings.db.dbName}}
                        </span>
                        <span style="word-wrap: break-word;" class="col-md-2" ng-if="!vm.systemSettings.db.isInitialized">-</span>
                      </div>
                      <div class="col-md-12">
                        <label class="control-label textAlignNone col-md-2">Database User: </label>
                        <span style="word-wrap: break-word;" class="col-md-8" ng-if="vm.systemSettings.db.isInitialized && vm.systemSettings.db.dbUser">
                          {{vm.systemSettings.db.dbUser}}
                        </span>
                        <span style="word-wrap: break-word;" class="col-md-2" ng-if="!vm.systemSettings.db.isInitialized">-</span>
                      </div>
                      <div class="col-md-12">
                        <label class="control-label textAlignNone col-md-2">Database Password: </label>
                        <span style="word-wrap: break-word;" class="col-md-8" ng-if="vm.systemSettings.db.isInitialized && vm.systemSettings.db.dbPassword">
                          {{vm.systemSettings.db.dbPassword}}
                        </span>
                        <span style="word-wrap: break-word;" class="col-md-2" ng-if="!vm.systemSettings.db.isInitialized">-</span>
                      </div>
                    </div>
                  </div><!-- END row -->

                </div><!-- END portlet-body -->
              </div><!-- END database -->


            </div><!-- END portlet -->
          </div><!-- END col-md-12 -->
        </div><!-- END row -->
        <!-- END Database -->

        <!-- Services Section -->
        <div class="row" ng-if="vm.requireRestart">
          <div class="col-md-12">
            <div class="portlet">
              <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#servicesConfig">
                <h3 class="portlet-title text-dark">
                  Services
                </h3>
                <div class="portlet-widgets">
                  <a data-toggle="collapse" data-target="#servicesConfig" class="{{vm.initialized ? 'collapsed' : ''}}"><i class="ion-minus-round cursor-pointer"></i></a>
                </div>
                <div class="clearfix"></div>
              </div>
              <div id="servicesConfig" class="panel-collapse {{vm.initialized ? 'collapse' : 'collapse in'}}">
                <div class="portlet-body">
                  <p ng-if="!vm.requireRestart">
                    Please click <i>Install</i> button below first to view services.
                  </p>
                  <!-- Core Services -->
                  <table class="table table-striped m-0" ng-if="vm.requireRestart">
                    <tbody>
                      <tr ng-repeat="service in vm.allServices | orderBy: 'serviceName'"
                        ng-if="service.isEnabled && (service.serviceName !== 'mktg' || !vm.admiralEnv.IS_SERVER)">
                        <td colspan="4">
                          <b>{{service.serviceName}}</b>
                        </td>
                        <td class="text-right">
                          Replicas:
                        </td>
                        <td>
                          <span ng-if="vm.isGlobalService(service.serviceName)">
                            {{service.replicas}}
                          </span>
                          <input
                            ng-disabled="vm.initializing || vm.installing || vm.saving"
                            ng-if="!vm.isGlobalService(service.serviceName)"
                            class="form-control input-sm"
                            type=number ng-model="service.replicas" />
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Initialize button -->
        <div class="row">
          <div class="col-md-12 text-right">
            <button class="btn btn-md btn-primary waves-light m-t-10" ng-click="vm.showApplyChangesModal()"
              ng-disabled="vm.initializing || (vm.initializeForm.secrets.initType === 'new' && !vm.initializeForm.secrets.confirmCommand) || (vm.initializeForm.msg.initType === 'new' && !vm.initializeForm.msg.confirmCommand) || (vm.initializeForm.state.initType === 'new' && !vm.initializeForm.state.confirmCommand) || (vm.initializeForm.redis.initType === 'new' && !vm.initializeForm.redis.confirmCommand) || (vm.initializeForm.workers.workers.length && !vm.initializeForm.workers.confirmCommand) || vm.installing || vm.saving || vm.restartingServices || vm.disableSave">
                <div ng-if="vm.initializing || vm.installing || vm.saving || vm.restartingServices">Applying...</div>
                <div ng-if="!vm.initializing && !vm.installing && !vm.saving && !vm.restartingServices">Apply</div>
              </button>
          </div>
        </div>
      </section>
      <section id="config" ng-if="vm.sectionSelected == 'config'">
        <div class="row">
          <div class="col-md-12">
            <div class="page-title-box">
              <h4 class="page-title">Build Plane</h4>
            </div>
          </div>
        </div>
        <section ng-if="!vm.initialized || !vm.requireRestart">
          <div class="row">
            <div class="col-md-12">
              <div class="card-box">
                <h5 class="text-custom m-t-20 m-b-5">
                  Please configure control plane before starting build configuration
                </h5>
              </div>
            </div>
          </div>
        </section>
        <section ng-if="!vm.isLoaded">
          <div class="row">
            <div class="col-md-12">
              <div class="card-box">
                <h5 class="text-custom m-t-20 m-b-5">
                  Loading...
                </h5>
              </div>
            </div>
          </div>
        </section>
        <section ng-if="vm.isLoaded && vm.initialized && vm.requireRestart">
          <div class="row">
            <div class="col-md-12">
              <div class="portlet">
                <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#sharedNodePools">
                  <h3 class="portlet-title text-dark">
                    Shared Node Pools
                  </h3>
                  <div class="portlet-widgets">
                    <a data-toggle="collapse" data-target="#sharedNodePools" class="{{vm.initialized ? 'collapsed' : ''}}">
                      <i class="ion-minus-round cursor-pointer"></i>
                    </a>
                  </div>
                  <div class="clearfix"></div>
                </div>
                <div id="sharedNodePools" class="panel-collapse {{vm.initialized ? 'collapse' : 'collapse in'}}">
                  <div class="portlet-body">
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="card-box">
                          <div class="toggle-bar">
                            <input id="checkbox_for_system_nodes" type="checkbox" ng-change="vm.sharedNodeTypeToggled()"
                              ng-model="vm.installForm.systemSettings.allowSystemNodes" ng-disabled="vm.installing || vm.saving"
                              class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                            <label for="checkbox_for_system_nodes">
                              <b>Enable shared node pools</b>
                            </label>
                            <p class="text-muted font-13 help-block">Enabling this will allow super users to add always-on shared node pools and shared nodes which are available to every subscription.</p>
                          </div>
                          <hr>
                          <hr ng-if="vm.installForm.systemSettings.allowSystemNodes">
                          <div ng-show="vm.filestoreSysIntMasterNames.length > 0">
                            <label class="col-md-4 control-label">File Storage</label>
                            <div class="col-md-8">
                              <select class="form-control" ng-change="vm.changeFileStore('shared')"
                                ng-disabled="vm.installing || vm.saving"
                                ng-model="vm.nodeTypeFileStoreMap.shared">
                                <option value=""></option>
                                <option ng-if="vm.installForm.filestore.amazonKeys.isEnabled" value="amazonKeys">AWS S3</option>
                                <option ng-if="vm.installForm.filestore.gcloudKey.isEnabled" value="gcloudKey">Google Cloud Storage</option>
                              </select>
                            </div>
                          </div>
                          <hr ng-if="vm.filestoreSysIntMasterNames.length > 0">
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-12">
              <div class="portlet">
                <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#byon-nodes">
                  <h3 class="portlet-title text-dark">
                    BYON Node Pools
                  </h3>
                  <div class="portlet-widgets">
                    <a data-toggle="collapse" data-target="#byon-nodes" class="{{vm.initialized ? 'collapsed' : ''}}">
                      <i class="ion-minus-round cursor-pointer"></i>
                    </a>
                  </div>
                  <div class="clearfix"></div>
                </div>
                <div id="byon-nodes" class="panel-collapse {{vm.initialized ? 'collapse' : 'collapse in'}}">
                  <div class="portlet-body">
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="card-box">
                          <div class="toggle-bar">
                            <input id="checkbox_for_custom_nodes" type="checkbox" ng-change="vm.byonNodeTypeToggled()"
                              ng-model="vm.installForm.systemSettings.allowCustomNodes" ng-disabled="vm.installing || vm.saving"
                              class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                            <label for="checkbox_for_custom_nodes">
                              <b>Enable BYON node pools</b>
                            </label>
                            <p class="text-muted font-13 help-block">Enabling this will allow users to add BYON node pools and BYON nodes to their subscription.</p>
                          </div>
                          <hr />
                          <div class="toggle-bar" ng-if="vm.installForm.systemSettings.allowCustomNodes">
                            <input id="checkbox_for_custom_nodes_admin" type="checkbox"
                              ng-model="vm.installForm.systemSettings.customNodesAdminOnly" ng-disabled="vm.installing || vm.saving"
                              class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                            <label for="checkbox_for_custom_nodes_admin">
                              <b>Restrict BYON node creation to super users only </b>
                            </label>
                            <p class="text-muted font-13 help-block">Enabling this will disallow non super users from adding BYON nodes to their subscription.</p>
                          </div>
                          <hr ng-if="vm.installForm.systemSettings.allowCustomNodes">
                          <div ng-show="vm.filestoreSysIntMasterNames.length > 0">
                            <label class="col-md-4 control-label">File Storage</label>
                            <div class="col-md-8">
                              <select class="form-control" ng-change="vm.changeFileStore('BYON')"
                                ng-disabled="vm.installing || vm.saving"
                                ng-model="vm.nodeTypeFileStoreMap.BYON">
                                <option value=""></option>
                                <option ng-if="vm.installForm.filestore.amazonKeys.isEnabled" value="amazonKeys">AWS S3</option>
                                <option ng-if="vm.installForm.filestore.gcloudKey.isEnabled" value="gcloudKey">Google Cloud Storage</option>
                              </select>
                            </div>
                          </div>
                          <hr ng-if="vm.filestoreSysIntMasterNames.length > 0">
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-12">
              <div class="portlet">
                <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#on-demand-nodes">
                  <h3 class="portlet-title text-dark">
                    On Demand Node Pools
                  </h3>
                  <div class="portlet-widgets">
                    <a data-toggle="collapse" data-target="#on-demand-nodes" class="{{vm.initialized ? 'collapsed' : ''}}">
                      <i class="ion-minus-round cursor-pointer"></i>
                    </a>
                  </div>
                  <div class="clearfix"></div>
                </div>
                <div id="on-demand-nodes" class="panel-collapse {{vm.initialized ? 'collapse' : 'collapse in'}}">
                  <div class="portlet-body">

                    <!--
                      Keys for AWS dynamic nodes
                    -->
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="card-box">
                          <h4 class="m-t-0 header-title"><b>AWS</b></h4>
                          <br />
                          <div class="toggle-bar">
                            <input id="checkbox_for_dynamic_nodes" type="checkbox"
                              ng-model="vm.installForm.provision.amazonKeys.isEnabled" ng-change="vm.installForm.systemSettings.allowDynamicNodes = vm.installForm.provision.amazonKeys.isEnabled || vm.installForm.provision.gcloudKey.isEnabled; vm.onDemandNodeTypeProviderToggled('amazonKeys')" ng-disabled="vm.installing || vm.saving" class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                            <label for="checkbox_for_dynamic_nodes">
                              <b>Enable AWS on-demand node pools</b>
                            </label>
                            <p class="text-muted font-13 help-block">Enabling and configuring this will allow on-demand node pools to be created on AWS. Nodes in this pool will be automatically provisioned and destroyed.</p>
                          </div>
                          <div ng-if="vm.installForm.provision.amazonKeys.isEnabled">
                            <form class="form-horizontal" role="form">
                              <div class="form-group">
                                <label class="col-md-2 control-label">AWS Access Key</label>
                                <div class="col-md-6">
                                  <input type="text" class="form-control" name="provisionAccessKey"
                                  ng-model="vm.installForm.provision.amazonKeys.data.accessKey" ng-disabled="vm.installing || vm.saving"/>
                                </div>
                              </div>
                              <div class="form-group">
                                <label class="col-md-2 control-label">AWS Secret Key</label>
                                <div class="col-md-6">
                                  <input type="text" class="form-control" name="provisionSecretKey"
                                  ng-model="vm.installForm.provision.amazonKeys.data.secretKey" ng-disabled="vm.installing || vm.saving"/>
                                </div>
                              </div>
                            </form>
                          </div>
                          <hr ng-if="vm.installForm.provision.amazonKeys.isEnabled">
                          <div ng-show="vm.filestoreSysIntMasterNames.length > 0 && vm.installForm.provision.amazonKeys.isEnabled">
                            <label class="col-md-4 control-label">File Storage</label>
                            <div class="col-md-8">
                              <select class="form-control" ng-change="vm.changeFileStoreForOnDemandNodeType('amazonKeys')"
                                ng-disabled="vm.installing || vm.saving"
                                ng-model="vm.onDemandNodeTypeFileStoreMap['amazonKeys']">
                                <option value=""></option>
                                <option ng-if="vm.installForm.filestore.amazonKeys.isEnabled" value="amazonKeys">AWS S3</option>
                                <option ng-if="vm.installForm.filestore.gcloudKey.isEnabled" value="gcloudKey">Google Cloud Storage</option>
                              </select>
                            </div>
                          </div>
                          <hr ng-if="vm.filestoreSysIntMasterNames.length > 0">
                        </div>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-sm-12">
                        <div class="card-box">
                          <h4 class="m-t-0 header-title"><b>Google Cloud</b></h4>
                          <br />
                          <div class="toggle-bar">
                            <input id="checkbox_for_dynamic_nodes" type="checkbox"
                              ng-model="vm.installForm.provision.gcloudKey.isEnabled" ng-change="vm.installForm.systemSettings.allowDynamicNodes = vm.installForm.provision.amazonKeys.isEnabled || vm.installForm.provision.gcloudKey.isEnabled; vm.onDemandNodeTypeProviderToggled('gcloudKey')" ng-disabled="vm.installing || vm.saving" class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                            <label for="checkbox_for_dynamic_nodes">
                              <b>Enable Google Cloud on-demand node pools</b>
                            </label>
                            <p class="text-muted font-13 help-block">Enabling and configuring this will allow on-demand node pools to be created on Google Cloud. Nodes in this pool will be automatically provisioned and destroyed.</p>
                          </div>
                          <div ng-if="vm.installForm.provision.gcloudKey.isEnabled">
                            <form class="form-horizontal" role="form">
                              <div class="form-group">
                                <label class="col-md-2 control-label">JSON Key</label>
                                <div class="col-md-6">
                                  <textarea type="text" class="form-control" ng-model="vm.installForm.provision.gcloudKey.data.JSON_key" ng-disabled="vm.installing || vm.saving"/>
                                </div>
                              </div>
                            </form>
                          </div>
                          <hr ng-if="vm.installForm.provision.gcloudKey.isEnabled">
                          <div ng-show="vm.filestoreSysIntMasterNames.length > 0 && vm.installForm.provision.gcloudKey.isEnabled">
                            <label class="col-md-4 control-label">File Storage</label>
                            <div class="col-md-8">
                              <select class="form-control" ng-change="vm.changeFileStoreForOnDemandNodeType('gcloudKey')"
                                ng-disabled="vm.installing || vm.saving"
                                ng-model="vm.onDemandNodeTypeFileStoreMap['gcloudKey']">
                                <option value=""></option>
                                <option ng-if="vm.installForm.filestore.amazonKeys.isEnabled" value="amazonKeys">AWS S3</option>
                                <option ng-if="vm.installForm.filestore.gcloudKey.isEnabled" value="gcloudKey">Google Cloud Storage</option>
                              </select>
                            </div>
                          </div>
                          <hr ng-if="vm.filestoreSysIntMasterNames.length > 0">
                        </div>
                      </div>
                    </div>

                    <!--
                      System Machine Images
                    -->
                    <div class="row" ng-if="vm.installForm.systemSettings.allowDynamicNodes">
                      <div class="col-md-12">
                        <div class="card-box">
                          <h4 class="m-t-0 header-title"><b>System Machine Images</b></h4>
                          <br />
                          <label>
                            <input ng-model="smiSearchString" class="form-control" placeholder="Search">
                          </label>
                          <button class="btn btn-sm btn-default pull-right"
                            ng-if="vm.installForm.systemSettings.allowDynamicNodes"
                            ng-click="vm.addSystemMachineImage()">
                            Add another machine image
                          </button>

                          <div class="m-t-15">
                            <div style="overflow: auto;">
                              <table class="table table-striped table-bordered table-condensed m-0">
                                <thead>
                                  <tr>
                                    <th>Name</th>
                                    <th>Provider</th>
                                    <th>Description</th>
                                    <th>Shippable AMI Id</th>
                                    <th>Region</th>
                                    <th>Key pair name</th>
                                    <th>Security group</th>
                                    <th>Subnet ID</th>
                                    <th>Private Subnet ID</th>
                                    <th>Public NAT IP</th>
                                    <th>SSH User</th>
                                    <th>SSH Port</th>
                                    <th>Action</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr ng-repeat="smi in vm.installForm.systemMachineImages | filter: smiSearchString">
                                    <td>{{smi.name}}</td>
                                    <td>{{smi.provider}}</td>
                                    <td>{{smi.description}}</td>
                                    <td>{{smi.externalId}}</td>
                                    <td>{{smi.region}}</td>
                                    <td>{{smi.keyName}}</td>
                                    <td>{{smi.securityGroup}}</td>
                                    <td>{{smi.subnetId}}</td>
                                    <td>{{smi.privateSubnetId}}</td>
                                    <td>{{smi.publicNatIp}}</td>
                                    <td>{{smi.sshUser}}</td>
                                    <td>{{smi.sshPort}}</td>
                                    <td>
                                      <button class="btn btn-sm btn-default" ng-click="vm.updateSMI(smi)">
                                        Edit
                                      </button>
                                      <button class="btn btn-danger btn-sm" ng-click="vm.showRemoveSMIModal(smi)">
                                        Remove
                                      </button>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>


                    <!--
                      Cache configuration for dynamic nodes
                    -->
                    <div class="row" ng-if="vm.installForm.systemSettings.allowDynamicNodes">
                      <div class="col-md-12">
                        <div class="card-box">
                          <h4 class="m-t-0 header-title"><b>Cache Config</b></h4>
                          <form class="form-horizontal" role="form">
                            <div class="m-b-20 font-14 col-md-offset-1">
                            </div>
                            <div class="form-group">
                              <label class="col-md-2 control-label">
                                <span title="This is the interval after which the node goes into cached state if it is idle.">Node cache interval (in mins)
                                  <span class="glyphicon glyphicon-info-sign"></span>
                                </span>
                              </label>
                              <div class="col-md-6">
                                <input type="number" min="1" class="form-control" name="nodeCacheIntervalMS"
                                ng-model="vm.installForm.systemSettings.nodeCacheIntervalMS" ng-disabled="vm.installing || vm.saving"/>
                              </div>
                            </div>
                          </form>

                          <form class="form-horizontal" role="form">
                            <div class="form-group">
                              <label class="col-md-2 control-label">
                                <span title="This is the day of week on which cached nodes will be stopped.">Day of week when Cached nodes are Stopped
                                  <span class="glyphicon glyphicon-info-sign"></span>
                                </span>
                              </label>
                              <div class="col-md-6">
                                <select class="form-control"
                                  ng-disabled="vm.installing || vm.saving"
                                  ng-model="vm.installForm.systemSettings.nodeStopDayOfWeek">
                                  <option value="0">Sunday</option>
                                  <option value="1">Monday</option>
                                  <option value="2">Tuesday</option>
                                  <option value="3">Wednesday</option>
                                  <option value="4">Thursday</option>
                                  <option value="5">Friday</option>
                                  <option value="6">Saturday</option>
                                </select>
                              </div>
                            </div>
                          </form>

                          <form class="form-horizontal" role="form">
                            <div class="form-group">
                              <label class="col-md-2 control-label">
                                <span title="This is the interval after which the Cached node goes into Stopped state.">Node stop interval (in days)
                                  <span class="glyphicon glyphicon-info-sign"></span>
                                </span>
                              </label>
                              <div class="col-md-6">
                                <input type="number" min="1" class="form-control" name="nodeStopIntervalDays"
                                ng-model="vm.installForm.systemSettings.nodeStopIntervalDays" ng-disabled="vm.installing || vm.saving"/>
                              </div>
                            </div>
                          </form></hr>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Builds Config Section -->
          <div class="row">
            <div class="col-md-12">
              <div class="portlet">
                <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#buildConfig">
                  <h3 class="portlet-title text-dark">
                    Build Configuration
                  </h3>
                  <div class="portlet-widgets">
                    <a data-toggle="collapse" data-target="#buildConfig" class="{{vm.initialized ? 'collapsed' : ''}}"><i class="ion-minus-round cursor-pointer"></i></a>
                  </div>
                  <div class="clearfix"></div>
                </div>
                <div id="buildConfig" class="panel-collapse {{vm.initialized ? 'collapse' : 'collapse in'}}">
                  <div class="portlet-body">
                    <!-- Nodes -->
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="card-box">
                          <h4 class="m-t-0 header-title"><b>Nodes</b></h4>
                            <div class="row">
                              <div class="col-md-12">
                                <form class="form-horizontal" role="form">
                                  <div class="form-group">
                                    <label class="col-md-2 control-label">Default node pool created for a subscription</label>
                                    <div class="col-md-6">
                                      <select class="form-control"
                                        ng-model="vm.installForm.systemSettings.defaultClusterType"
                                        ng-options="clusterType.name as clusterType.name for clusterType in vm.clusterTypes">
                                      </select>
                                    </div>
                                  </div>
                                </form>
                              </div>
                            </div>
                            <hr/>
                            <div class="row">
                              <div class="col-md-12">
                                <form class="form-horizontal" role="form">
                                  <div class="form-group">
                                    <label class="col-md-2 control-label">Location of node provisioning scripts</label>
                                    <div class="col-md-6">
                                      <input type="text" class="form-control" name="nodeScriptsLocation"
                                      ng-model="vm.installForm.systemSettings.nodeScriptsLocation" ng-disabled="vm.installing || vm.saving"/>
                                    </div>
                                  </div>
                                </form>
                                <hr/>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col-md-12">
                                <form class="form-horizontal" role="form">
                                  <div class="form-group">
                                    <label class="col-md-2 control-label">Maximum time between successful node status checks (in minutes):</label>
                                    <div class="col-md-6">
                                      <input type="text" class="form-control" name="maxNodeCheckInDelayInMinutes"
                                        ng-model="vm.installForm.systemSettings.maxNodeCheckInDelayInMinutes" ng-disabled="vm.installing || vm.saving"/>
                                    </div>
                                  </div>
                                </form>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- Settings -->
                    <div class="row">
                      <div class="col-sm-12">
                        <div class="card-box">
                          <h4 class="m-t-0 header-title"><b>Settings</b></h4>
                          <div class="row">
                            <div class="col-sm-12">
                              <div class="card-box">
                                <div class="row" ng-show="vm.filestoreSysIntMasterNames.length > 0">
                                  <div class="col-md-12">
                                    <form class="form-horizontal" role="form">
                                      <div class="form-group">
                                        <label class="col-md-2 control-label">Managed Jobs File Storage</label>
                                        <div class="col-md-6">
                                          <select class="form-control"
                                            ng-disabled="vm.installing || vm.saving"
                                            ng-model="vm.installForm.systemSettings.managedJobsFileStoreProvider">
                                            <option value=""></option>
                                            <option ng-if="vm.installForm.filestore.amazonKeys.isEnabled" value="amazonKeys">AWS S3</option>
                                            <option ng-if="vm.installForm.filestore.gcloudKey.isEnabled" value="gcloudKey">Google Cloud Storage</option>
                                          </select>
                                        </div>
                                      </div>
                                    </form>
                                    <hr/>
                                  </div>
                                </div>
                                <div class="row">
                                  <div class="col-md-12">
                                    <form class="form-horizontal" role="form">
                                      <div class="form-group">
                                        <label class="col-md-2 control-label">Default build timeout (in milliseconds)</label>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control" name="buildTimeoutMS"
                                            ng-model="vm.installForm.systemSettings.buildTimeoutMS" ng-disabled="vm.installing || vm.saving"/>
                                        </div>
                                      </div>
                                    </form>
                                    <hr/>
                                  </div>
                                </div>
                                <div class="row">
                                  <div class="col-md-12">
                                    <form class="form-horizontal" role="form">
                                      <div class="form-group">
                                        <label class="col-md-2 control-label">Default number of minions per subscription</label>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control" name="defaultMinionCount"
                                            ng-model="vm.installForm.systemSettings.defaultMinionCount" ng-disabled="vm.installing || vm.saving"/>
                                        </div>
                                      </div>
                                    </form>
                                    <hr/>
                                  </div>
                                </div>
                                <div class="row">
                                  <div class="col-md-12">
                                    <form class="form-horizontal" role="form">
                                      <div class="form-group">
                                        <label class="col-md-2 control-label">Allowed system image family</label>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control" name="allowedSystemImageFamily"
                                            ng-model="vm.installForm.systemSettings.allowedSystemImageFamily" ng-disabled="vm.installing || vm.saving"/>
                                        </div>
                                      </div>
                                    </form>
                                    <hr/>
                                  </div>
                                </div>
                                <div class="row">
                                  <div class="col-md-12">
                                    <form class="form-horizontal" role="form">
                                      <div class="form-group">
                                        <label class="col-md-2 control-label">Job console batch size</label>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control" name="jobConsoleBatchSize"
                                            ng-model="vm.installForm.systemSettings.jobConsoleBatchSize" ng-disabled="vm.installing || vm.saving"/>
                                        </div>
                                      </div>
                                    </form>
                                    <hr/>
                                  </div>
                                </div>
                                <div class="row">
                                  <div class="col-md-12">
                                    <form class="form-horizontal" role="form">
                                      <div class="form-group">
                                        <label class="col-md-2 control-label">Job console buffer time interval</label>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control" name="jobConsoleBufferTimeIntervalMS"
                                            ng-model="vm.installForm.systemSettings.jobConsoleBufferTimeIntervalMS" ng-disabled="vm.installing || vm.saving"/>
                                        </div>
                                      </div>
                                    </form>
                                    <hr/>
                                  </div>
                                </div>
                                <div class="row">
                                  <div class="col-md-12">
                                    <div class="toggle-bar">
                                      <input id="checkbox_for_auto_select" type="checkbox"
                                      ng-model="vm.installForm.systemSettings.autoSelectBuilderToken"
                                      ng-disabled="vm.installing || vm.saving"
                                      class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                      <label for="checkbox_for_auto_select">
                                        <b> Auto-select the token used to run webhook builds </b>
                                      </label>
                                    </div>
                                    <hr/>
                                  </div>
                                </div>
                                <div class="row">
                                  <div class="col-md-12">
                                    <div class="toggle-bar">
                                      <input id="checkbox_for_pvt_job_quota" type="checkbox"
                                      ng-model="vm.installForm.systemSettings.enforcePrivateJobQuota"
                                      ng-disabled="vm.installing || vm.saving"
                                      class="js-switch-small" ui-switch="{color: '#00b19d'}"/>
                                      <label for="checkbox_for_pvt_job_quota">
                                        <b> Limit number of builds allowed for private repos </b>
                                      </label>
                                    </div>
                                    <form class="form-horizontal" role="form" ng-if="vm.installForm.systemSettings.enforcePrivateJobQuota">
                                      <div class="form-group">
                                        <label class="col-md-2 control-label">Default private build limit:</label>
                                        <div class="col-md-6">
                                          <input type="text" class="form-control" name="defaultPrivateJobQuota"
                                          ng-model="vm.installForm.systemSettings.defaultPrivateJobQuota" ng-disabled="vm.installing || vm.saving"/>
                                        </div>
                                      </div>
                                    </form>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
            </div>
          </div>
          <!-- Install and Save buttons -->
          <div class="row">
            <div class="col-md-12 text-right">
              <button class="btn btn-md btn-primary waves-light" type="submit" ng-click="vm.showSaveAndRestartModal()"
                ng-disabled="vm.installing || vm.saving || vm.restartingServices || vm.disableSave">
                <div ng-if="vm.saving">
                  Saving...
                </div>
                <div ng-if="vm.restartingServices">
                  Restarting...
                </div>
                <div ng-if="!vm.saving && !vm.restartingServices">
                  Save & Restart Services
                </div>
              </button>
            </div>
          </div>
        </section>
      </section>
      <section id="addons" ng-if="vm.sectionSelected === 'addons'">
        <div class="row">
          <div class="col-md-12">
            <div class="page-title-box">
              <h4 class="page-title">Addons</h4>
            </div>
          </div>
        </div>
        <section ng-if="!vm.initialized || !vm.requireRestart">
          <div class="row">
            <div class="col-md-12">
              <div class="card-box">
                <h5 class="text-custom m-t-20 m-b-5">
                  Please configure control plane before installing addons
                </h5>
              </div>
            </div>
          </div>
        </section>
        <section ng-if="vm.isLoaded && vm.initialized && vm.requireRestart">
          <!-- start enable cloudproviders section -->
          <div class="row">
            <div class="col-md-12">
              <div class="portlet">
                <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#enable-addons">
                  <h3 class="portlet-title text-dark">
                    Cloud Providers
                  </h3>
                  <div class="portlet-widgets">
                    <span class="divider"></span>
                    <a data-toggle="collapse" data-target="#enable-addons" class="{{vm.initialized ? 'collapsed' : ''}}"><i class="ion-minus-round cursor-pointer"></i></a>
                  </div>
                  <div class="clearfix"></div>
                </div>

                <div id="enable-addons" class="panel-collapse collapse">
                  <div class="portlet-body">

                    <div class="portlet m-t-30">
                      <div class="row">
                        <div class="col-md-12 col-sm-12">
                          <div class="card-box">
                            <table class="table table-striped m-0">
                              <tbody>
                                <tr ng-if="vm.addonsForm.AWS.displayName">
                                  <td>{{vm.addonsForm.AWS.displayName}}
                                    <span ng-if="vm.addonsForm.AWS.isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use {{vm.addonsForm.amazonKeys.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.AWS.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.amazonKeys.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch" ng-change="vm.switchToggle()"
                                      ng-disabled="vm.installingAddons || vm.resetSwitchForAmazonKeys"
                                      ng-model="vm.addonsForm.amazonKeys.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr ng-if="vm.addonsForm.AWS_IAM.displayName">
                                  <td>{{vm.addonsForm.AWS_IAM.displayName}}
                                    <span ng-if="vm.addonsForm.AWS_IAM.isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use {{vm.addonsForm.amazonIamRole.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                    <input ng-if="vm.addonsForm.AWS_IAM.isEnabled" type="text" name="awsAccountId"
                                      class="form-control input-sm m-t-20" placeholder="Your aws account ID"
                                      ng-model="vm.addonsForm.systemSettings.awsAccountId"
                                      ng-disabled="vm.installingAddons"
                                    />
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.AWS_IAM.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.amazonIamRole.displayName}}
                                    <input ng-if="vm.addonsForm.amazonIamRole.isEnabled" type="text" name="awsAccountId"
                                      class="form-control input-sm m-t-20" placeholder="Your aws account ID"
                                      ng-model="vm.addonsForm.systemSettings.awsAccountId"
                                      ng-disabled="vm.installingAddons"
                                    />
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.amazonIamRole.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr ng-if="vm.addonsForm.AZURE_DCOS.displayName">
                                  <td>{{vm.addonsForm.AZURE_DCOS.displayName}}
                                    <span ng-if="vm.addonsForm.AZURE_DCOS.isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use {{vm.addonsForm.azureDcosKey.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.AZURE_DCOS.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.azureDcosKey.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.azureDcosKey.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.azureKeys.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.azureKeys.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr ng-if="vm.addonsForm.CLUSTER.displayName">
                                  <td>{{vm.addonsForm.CLUSTER.displayName}}
                                    <span ng-if="vm.addonsForm.AWS.isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use {{vm.addonsForm.nodeCluster.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.CLUSTER.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.nodeCluster.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.nodeCluster.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr ng-if="vm.addonsForm.DCL.displayName">
                                  <td>{{vm.addonsForm.DCL.displayName}}
                                    <span ng-if="vm.addonsForm.DCL.isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use {{vm.addonsForm.dclKey.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.DCL.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <t>
                                  <td>{{vm.addonsForm.dclKey.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.dclKey.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr ng-if="vm.addonsForm.DDC.displayName">
                                  <td>{{vm.addonsForm.DDC.displayName}}
                                    <span ng-if="vm.addonsForm.DDC.isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use {{vm.addonsForm.ddcKey.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.DDC.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.ddcKey.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.ddcKey.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr ng-if="vm.addonsForm.GKE.displayName">
                                  <td>{{vm.addonsForm.GKE.displayName}}
                                    <span ng-if="vm.addonsForm.GKE.isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use {{vm.addonsForm.gcloudKey.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.GKE.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr ng-if="vm.addonsForm.KUBERNETES.displayName">
                                  <td>{{vm.addonsForm.KUBERNETES.displayName}}
                                    <span ng-if="vm.addonsForm.KUBERNETES.isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use {{vm.addonsForm.kubernetesConfig.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.KUBERNETES.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.kubernetesConfig.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.kubernetesConfig.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr ng-if="vm.addonsForm.TRIPUB.displayName">
                                  <td>{{vm.addonsForm.TRIPUB.displayName}}
                                    <span ng-if="vm.addonsForm.TRIPUB.isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use {{vm.addonsForm.joyentTritonKey.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.TRIPUB.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.joyentTritonKey.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.joyentTritonKey.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.DOC.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.DOC.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.gcloudKey.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.gcloudKey.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>

                    </div> <!-- end portlet -->

                  </div><!-- END portlet-body -->
                </div><!-- END addons -->
              </div><!-- END portlet -->
            </div><!-- END col-md-12 -->
          </div>

          <!-- start enable notifications section -->
          <div class="row">
            <div class="col-md-12">
              <div class="portlet">
                <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#enable-addons-notifications">
                  <h3 class="portlet-title text-dark">
                    Notifications
                  </h3>
                  <div class="portlet-widgets">
                    <span class="divider"></span>
                    <a data-toggle="collapse" data-target="#enable-addons-notifications" class="{{vm.initialized ? 'collapsed' : ''}}"><i class="ion-minus-round cursor-pointer"></i></a>
                  </div>
                  <div class="clearfix"></div>
                </div>

                <div id="enable-addons-notifications" class="panel-collapse collapse">
                  <div class="portlet-body">

                    <div class="portlet m-t-30">
                      <div class="row">
                        <div class="col-md-12 col-sm-12">
                          <!-- start Notifications -->
                          <div class="card-box">
                            <div class="row">
                              <div class="col-md-12">
                                <table class="table table-striped m-0">
                                  <tbody>
                                    <tr ng-if="vm.addonsForm.webhook.displayName">
                                      <td>{{vm.addonsForm.webhook.displayName}}
                                        <span ng-if="vm.addonsForm.webhook.isDeprecated"
                                          title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use Generic {{vm.addonsForm.webhookV2.displayName}} instead.">
                                            (Deprecated) <span class="glyphicon glyphicon-info-sign"></span>
                                        </span>
                                      </td>
                                      <td class="text-right">
                                        <input type="checkbox" class="js-switch"
                                          ng-disabled="vm.installingAddons"
                                          ng-model="vm.addonsForm.webhook.isEnabled"
                                          ui-switch="{color: '#00b19d'}"
                                        />
                                      </td>
                                    </tr>
                                    <tr>
                                      <td>{{vm.addonsForm.webhookV2.displayName}}</td>
                                      <td class="text-right">
                                        <input type="checkbox" class="js-switch"
                                          ng-disabled="vm.installingAddons"
                                          ng-model="vm.addonsForm.webhookV2.isEnabled"
                                          ui-switch="{color: '#00b19d'}"
                                        />
                                      </td>
                                    </tr>
                                    <tr ng-if="vm.addonsForm.hipchat.displayName">
                                      <td>{{vm.addonsForm.hipchat.displayName}}
                                        <span ng-if="vm.addonsForm.hipchat.isDeprecated"
                                          title="This integration has been deprecated. Please use Generic {{vm.addonsForm.hipchatKey.displayName}} instead.">
                                            (Deprecated) <span class="glyphicon glyphicon-info-sign"></span>
                                        </span>
                                      </td>
                                      <td class="text-right">
                                        <input type="checkbox" class="js-switch"
                                          ng-disabled="vm.installingAddons"
                                          ng-model="vm.addonsForm.hipchat.isEnabled"
                                          ui-switch="{color: '#00b19d'}"
                                        />
                                      </td>
                                    </tr>
                                    <tr>
                                      <td>{{vm.addonsForm.hipchatKey.displayName}}</td>
                                      <td class="text-right">
                                        <input type="checkbox" class="js-switch"
                                          ng-disabled="vm.installingAddons"
                                          ng-model="vm.addonsForm.hipchatKey.isEnabled"
                                          ui-switch="{color: '#00b19d'}"
                                        />
                                      </td>
                                    </tr>
                                    <tr ng-if="vm.addonsForm.irc.displayName">
                                      <td>{{vm.addonsForm.irc.displayName}}
                                        <span ng-if="vm.addonsForm.irc.isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created. If enabled, existing integrations can continue to be used. Please enable IRC in the install panel instead.">(Deprecated)
                                        <span class="glyphicon glyphicon-info-sign"></span></span>
                                      </td>
                                      <td class="text-right">
                                        <input type="checkbox" class="js-switch"
                                          ng-disabled="vm.installingAddons"
                                          ng-model="vm.addonsForm.irc.isEnabled"
                                          ui-switch="{color: '#00b19d'}"
                                        />
                                      </td>
                                    </tr>
                                    <tr ng-if="vm.addonsForm.Slack.displayName">
                                      <td>{{vm.addonsForm.Slack.displayName}}
                                        <span ng-if="vm.addonsForm.Slack.isDeprecated"
                                        title="This integration has been deprecated. Use Generic {{vm.addonsForm.slackKey.displayName}} instead.">
                                          (Deprecated) <span class="glyphicon glyphicon-info-sign"></span></span>
                                      </td>
                                      <td class="text-right">
                                        <input type="checkbox" class="js-switch"
                                          ng-disabled="vm.installingAddons"
                                          ng-model="vm.addonsForm.Slack.isEnabled"
                                          ui-switch="{color: '#00b19d'}"
                                        />
                                      </td>
                                    </tr>
                                    <tr>
                                      <td>{{vm.addonsForm.slackKey.displayName}}</td>
                                      <td class="text-right">
                                        <input type="checkbox" class="js-switch"
                                          ng-disabled="vm.installingAddons"
                                          ng-model="vm.addonsForm.slackKey.isEnabled"
                                          ui-switch="{color: '#00b19d'}"
                                        />
                                      </td>
                                    </tr>
                                    <tr>
                                      <td class="col-md-8">
                                        IRC
                                        <div ng-if="vm.installForm.notification.irc.isEnabled" ng-repeat="ircNick in vm.installForm.notification.irc.integrations">
                                          <div class="row">
                                            <div class="col-md-12">
                                              <div class="row">
                                                <div class="col-md-3">
                                                  <h5 class="m-t-20"><b>Server (blank to set default nick):</b></h5>
                                                </div>
                                                <div class="col-md-7 m-t-15">
                                                  <input type="text" class="form-control input-sm" name="ircServer"
                                                    ng-model="ircNick.server" ng-disabled="vm.installing || vm.saving" placeholder="Server (e.g. irc.freenode.net)" />
                                                </div>
                                                <div class="col-md-2">
                                                  <button class="btn btn-md btn-danger waves-light m-t-10"
                                                    type="button" ng-click="vm.deleteIRCIntegration(ircNick)"
                                                    ng-disabled="vm.installingAddons">
                                                      Delete
                                                  </button>
                                                </div>
                                              </div><!-- END row -->
                                              <div class="row">
                                                <div class="col-md-1">
                                                </div>
                                                <div class="col-md-3">
                                                  <h5 class="m-t-20"><b>Nick:</b></h5>
                                                </div>
                                                <div class="col-md-8 m-t-15">
                                                  <input type="text" class="form-control input-sm" name="ircNick"
                                                    ng-model="ircNick.nick" ng-disabled="vm.installing || vm.saving" placeholder="Nickname" />
                                                </div>
                                              </div><!-- END row -->
                                              <div class="row">
                                                <div class="col-md-1">
                                                </div>
                                                <div class="col-md-3">
                                                  <h5 class="m-t-20"><b>Password:</b></h5>
                                                </div>
                                                <div class="col-md-8 m-t-15">
                                                  <input type="text" class="form-control input-sm" name="ircPassword"
                                                    ng-model="ircNick.password" ng-disabled="vm.installing || vm.saving" placeholder="Password" />
                                                </div>
                                              </div><!-- END row -->
                                            </div>
                                          </div>
                                        </div>
                                        <div class="row" ng-if="vm.installForm.notification.irc.isEnabled">
                                          <div class="col-md-12">
                                            <button class="btn btn-md btn-primary waves-light m-t-10"
                                              type="button" ng-click="vm.addIRCIntegration()"
                                              ng-disabled="vm.installingAddons">
                                                Add an IRC Server/Nick
                                            </button>
                                          </div>
                                        </div>
                                      </td>
                                      <td class="col-md-4 text-right">
                                        <input type="checkbox" class="js-switch" id="checkbox_irc"
                                          ng-model="vm.installForm.notification.irc.isEnabled"
                                          ng-disabled="vm.installing || vm.saving || vm.addonsForm.irc.isEnabled"
                                          ui-switch="{color: '#00b19d'}">
                                      </td>
                                    </tr>
                                    <tr>
                                      <td class="col-md-8">Email
                                        <div class="row" ng-if="vm.isEmailEnabled">
                                          <div class="col-md-12">
                                            <div class="radio radio-inline m-t-20">
                                              <span class="col-md-3">
                                                <input type="radio" id="gmail" ng-model="vm.isEmailMethodEnabled" value="gmailCreds" ng-change="vm.checkEmailMethod('gmail')">
                                                <label class="control-label" for="gmail">Gmail</label>
                                              </span>
                                            </div>
                                            <div class="radio radio-inline m-t-20">
                                              <span class="col-md-3">
                                                <input type="radio" id="mailgun" ng-model="vm.isEmailMethodEnabled" value="mailgunCreds" ng-change="vm.checkEmailMethod('mailgun')">
                                                <label class="control-label" for="mailgun">Mailgun</label>
                                              </span>
                                            </div>
                                            <div class="radio radio-inline m-t-20">
                                              <span class="col-md-3">
                                                <input type="radio" id="smtp" ng-model="vm.isEmailMethodEnabled" value="smtpCreds" ng-change="vm.checkEmailMethod('smtp')">
                                                <label class="control-label" for="smtp">SMTP</label>
                                              </span>
                                            </div>
                                          </div>
                                          <div class="col-md-12" ng-if="vm.isEmailMethodEnabled">
                                            <div ng-if="vm.installForm.notification.gmailCreds.isEnabled">
                                              <div>
                                                <div class="row">
                                                  <div class="col-md-3">
                                                    <h5 class="m-t-20"><b>Username:</b></h5>
                                                  </div>
                                                  <div class="col-md-9 m-t-15">
                                                    <input type="text" class="form-control input-sm" name="gmailUsername"
                                                      ng-model="vm.installForm.notification.gmailCreds.data.username" ng-disabled="vm.installing || vm.saving" placeholder="Username" />
                                                  </div>
                                                </div><!-- END row -->
                                                <div class="row">
                                                  <div class="col-md-3">
                                                    <h5 class="m-t-20"><b>Password:</b></h5>
                                                  </div>
                                                  <div class="col-md-9 m-t-15">
                                                    <input type="text" class="form-control input-sm" name="gmailPassword"
                                                      ng-model="vm.installForm.notification.gmailCreds.data.password" ng-disabled="vm.installing || vm.saving" placeholder="Password" />
                                                  </div>
                                                </div><!-- END row -->
                                                <div class="row">
                                                  <div class="col-md-3">
                                                    <h5 class="m-t-20"><b>Proxy:</b></h5>
                                                  </div>
                                                  <div class="col-md-9 m-t-15">
                                                    <input type="text" class="form-control input-sm" name="gmailProxy"
                                                      ng-model="vm.installForm.notification.gmailCreds.data.proxy" ng-disabled="vm.installing || vm.saving" placeholder="Proxy" />
                                                  </div>
                                                </div><!-- END row -->
                                                <div class="row">
                                                  <div class="col-md-3">
                                                    <h5 class="m-t-20"><b>Email Sender:</b></h5>
                                                  </div>
                                                  <div class="col-md-9 m-t-15">
                                                    <input type="text" class="form-control input-sm" name="gmailEmailSender"
                                                      ng-model="vm.installForm.notification.gmailCreds.data.emailSender" ng-disabled="vm.installing || vm.saving" placeholder="Email Sender" />
                                                  </div>
                                                </div><!-- END row -->

                                              </div> <!-- if -->
                                            </div>
                                            <div ng-if="vm.installForm.notification.mailgunCreds.isEnabled">
                                              <div>
                                                <div class="row">
                                                  <div class="col-md-3">
                                                    <h5 class="m-t-20"><b>API Key:</b></h5>
                                                  </div>
                                                  <div class="col-md-9 m-t-15">
                                                    <input type="text" class="form-control input-sm" name="mailgunApiKey"
                                                      ng-model="vm.installForm.notification.mailgunCreds.data.apiKey" ng-disabled="vm.installing || vm.saving" placeholder="API Key" />
                                                  </div>
                                                </div><!-- END row -->
                                                <div class="row">
                                                  <div class="col-md-3">
                                                    <h5 class="m-t-20"><b>Domain:</b></h5>
                                                  </div>
                                                  <div class="col-md-9 m-t-15">
                                                    <input type="text" class="form-control input-sm" name="mailgunDomain"
                                                      ng-model="vm.installForm.notification.mailgunCreds.data.domain" ng-disabled="vm.installing || vm.saving" placeholder="Domain" />
                                                  </div>
                                                </div><!-- END row -->
                                                <div class="row">
                                                  <div class="col-md-3">
                                                    <h5 class="m-t-20"><b>Proxy:</b></h5>
                                                  </div>
                                                  <div class="col-md-9 m-t-15">
                                                    <input type="text" class="form-control input-sm" name="mailgunProxy"
                                                      ng-model="vm.installForm.notification.mailgunCreds.data.proxy" ng-disabled="vm.installing || vm.saving" placeholder="Proxy" />
                                                  </div>
                                                </div><!-- END row -->
                                                <div class="row">
                                                  <div class="col-md-3">
                                                    <h5 class="m-t-20"><b>Email Sender:</b></h5>
                                                  </div>
                                                  <div class="col-md-9 m-t-15">
                                                    <input type="text" class="form-control input-sm" name="mailgunEmailSender"
                                                      ng-model="vm.installForm.notification.mailgunCreds.data.emailSender" ng-disabled="vm.installing || vm.saving" placeholder="Proxy" />
                                                  </div>
                                                </div><!-- END row -->
                                              </div><!-- if -->
                                            </div>
                                            <div ng-if="vm.installForm.notification.smtpCreds.isEnabled">
                                              <div>
                                                <div class="row">
                                                  <div class="col-md-3">
                                                    <h5 class="m-t-20"><b>Email Auth User:</b></h5>
                                                  </div>
                                                  <div class="col-md-9 m-t-15">
                                                    <input type="text" class="form-control input-sm" name="smtpEmailAuthUser"
                                                      ng-model="vm.installForm.notification.smtpCreds.data.emailAuthUser" ng-disabled="vm.installing || vm.saving" placeholder="Email Auth User" />
                                                  </div>
                                                </div><!-- END row -->
                                                <div class="row">
                                                  <div class="col-md-3">
                                                    <h5 class="m-t-20"><b>Email Auth Password:</b></h5>
                                                  </div>
                                                  <div class="col-md-9 m-t-15">
                                                    <input type="text" class="form-control input-sm" name="smtpEmailAuthPassword"
                                                      ng-model="vm.installForm.notification.smtpCreds.data.emailAuthPassword" ng-disabled="vm.installing || vm.saving" placeholder="Email Auth Password" />
                                                  </div>
                                                </div><!-- END row -->
                                                <div class="row">
                                                  <div class="col-md-3">
                                                    <h5 class="m-t-20"><b>Email Sender:</b></h5>
                                                  </div>
                                                  <div class="col-md-9 m-t-15">
                                                    <input type="text" class="form-control input-sm" name="smtpEmailSender"
                                                      ng-model="vm.installForm.notification.smtpCreds.data.emailSender" ng-disabled="vm.installing || vm.saving" placeholder="Email Sender" />
                                                  </div>
                                                </div><!-- END row -->
                                                <div class="row">
                                                  <div class="col-md-3">
                                                    <h5 class="m-t-20"><b>Host:</b></h5>
                                                  </div>
                                                  <div class="col-md-9 m-t-15">
                                                    <input type="text" class="form-control input-sm" name="smtpHost"
                                                      ng-model="vm.installForm.notification.smtpCreds.data.host" ng-disabled="vm.installing || vm.saving" placeholder="Host" />
                                                  </div>
                                                </div><!-- END row -->
                                                <div class="row">
                                                  <div class="col-md-3">
                                                    <h5 class="m-t-20"><b>Port:</b></h5>
                                                  </div>
                                                  <div class="col-md-9 m-t-15">
                                                    <input type="text" class="form-control input-sm" name="smtpPort"
                                                      ng-model="vm.installForm.notification.smtpCreds.data.port" ng-disabled="vm.installing || vm.saving" placeholder="Port" />
                                                  </div>
                                                </div><!-- END row -->
                                                <div class="row">
                                                  <div class="col-md-3">
                                                    <h5 class="m-t-20"><b>Secure:</b></h5>
                                                  </div>
                                                  <div class="col-md-9 m-t-15">
                                                    <input type="text" class="form-control input-sm" name="smtpSecure"
                                                      ng-model="vm.installForm.notification.smtpCreds.data.secure" ng-disabled="vm.installing || vm.saving" placeholder="Secure" />
                                                  </div>
                                                </div><!-- END row -->
                                                <div class="row">
                                                  <div class="col-md-3">
                                                    <h5 class="m-t-20"><b>Hostname:</b></h5>
                                                  </div>
                                                  <div class="col-md-9 m-t-15">
                                                    <input type="text" class="form-control input-sm" name="smtpHostname"
                                                      ng-model="vm.installForm.notification.smtpCreds.data.hostname" ng-disabled="vm.installing || vm.saving" placeholder="Hostname" />
                                                  </div>
                                                </div><!-- END row -->
                                                <div class="row">
                                                  <div class="col-md-3">
                                                    <h5 class="m-t-20"><b>Proxy:</b></h5>
                                                  </div>
                                                  <div class="col-md-9 m-t-15">
                                                    <input type="text" class="form-control input-sm" name="smtpProxy"
                                                      ng-model="vm.installForm.notification.smtpCreds.data.proxy" ng-disabled="vm.installing || vm.saving" placeholder="Proxy" />
                                                  </div>
                                                </div><!-- END row -->
                                              </div><!-- if -->
                                            </div>
                                          </div>
                                        </div>
                                      </td>
                                      <td class=" col-md-4 text-right">
                                        <input type="checkbox" class="js-switch"
                                          ng-disabled="vm.installingAddons"
                                          ng-model="vm.isEmailEnabled"
                                          ui-switch="{color: '#00b19d'}"
                                        />
                                      </td>
                                    </tr>
                                    <tr>
                                      <td>{{vm.addonsForm.jira.displayName}}</td>
                                      <td class="text-right">
                                        <input type="checkbox" class="js-switch"
                                          ng-disabled="vm.installingAddons"
                                          ng-model="vm.addonsForm.jira.isEnabled"
                                          ui-switch="{color: '#00b19d'}"
                                        />
                                      </td>
                                    </tr>
                                    <tr ng-if="vm.addonsForm.airBrakeKey.displayName">
                                      <td>{{vm.addonsForm.airBrakeKey.displayName}}</td>
                                      <td class="text-right">
                                        <input type="checkbox" class="js-switch"
                                          ng-disabled="vm.installingAddons"
                                          ng-model="vm.addonsForm.airBrakeKey.isEnabled"
                                          ui-switch="{color: '#00b19d'}"
                                        />
                                      </td>
                                    </tr>
                                  <tr ng-if="vm.addonsForm.newRelicKey.displayName">
                                      <td>{{vm.addonsForm.newRelicKey.displayName}}</td>
                                      <td class="text-right">
                                        <input type="checkbox" class="js-switch"
                                          ng-disabled="vm.installingAddons"
                                          ng-model="vm.addonsForm.newRelicKey.isEnabled"
                                          ui-switch="{color: '#00b19d'}"
                                        />
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div> <!-- end portlet -->

                  </div><!-- END portlet-body -->
                </div><!-- END addons -->
              </div><!-- END portlet -->
            </div><!-- END col-md-12 -->
          </div>

          <!-- start enable Registries section -->
          <div class="row">
            <div class="col-md-12">
              <div class="portlet">
                <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#enable-addons-registries">
                  <h3 class="portlet-title text-dark">
                    Registries
                  </h3>
                  <div class="portlet-widgets">
                    <span class="divider"></span>
                    <a data-toggle="collapse" data-target="#enable-addons-registries" class="{{vm.initialized ? 'collapsed' : ''}}"><i class="ion-minus-round cursor-pointer"></i></a>
                  </div>
                  <div class="clearfix"></div>
                </div>

                <div id="enable-addons-registries" class="panel-collapse collapse">
                  <div class="portlet-body">

                    <div class="portlet m-t-30">
                      <div class="row">
                        <div class="col-md-12 col-sm-12">
                          <div class="card-box">
                            <table class="table table-striped m-0">
                              <tbody>
                                <tr ng-if="vm.addonsForm.ECR.displayName">
                                  <td>{{vm.addonsForm.ECR.displayName}}
                                    <span ng-if="vm.addonsForm.ECR.isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use {{vm.addonsForm.amazonKeys.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.ECR.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.amazonKeys.displayName}}
                                    <span title="{{vm.addonsForm.amazonKeys.displayName}} is a unifying integration which can be used for ECR as well as other AWS services.">(ECR)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch" ng-change="vm.switchToggle()"
                                      ng-disabled="vm.installingAddons || vm.resetSwitchForAmazonKeys"
                                      ng-model="vm.addonsForm.amazonKeys.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr ng-if="vm.addonsForm.Docker.displayName">
                                  <td>{{vm.addonsForm.Docker.displayName}}
                                    <span ng-if="vm.addonsForm.Docker.isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use non deprecated {{vm.addonsForm.dockerRegistryLogin.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.Docker.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr ng-if="vm.addonsForm['Docker Trusted Registry'].displayName">
                                  <td>{{vm.addonsForm['Docker Trusted Registry'].displayName}}
                                    <span ng-if="vm.addonsForm['Docker Trusted Registry'].isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use non deprecated {{vm.addonsForm.dockerRegistryLogin.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm['Docker Trusted Registry'].isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr ng-if="vm.addonsForm.GCR.displayName">
                                  <td>{{vm.addonsForm.GCR.displayName}}
                                    <span ng-if="vm.addonsForm.GCR.isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use {{vm.addonsForm.gcloudKey.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.GCR.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr ng-if="vm.addonsForm.artifactory.displayName">
                                  <td>{{vm.addonsForm.artifactory.displayName}}
                                    <span ng-if="vm.addonsForm['artifactory'].isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use {{vm.addonsForm.artifactory.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.artifactory.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.artifactoryKey.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.artifactoryKey.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr ng-if="vm.addonsForm['Private Docker Registry'].displayName">
                                  <td>{{vm.addonsForm['Private Docker Registry'].displayName}}
                                    <span ng-if="vm.addonsForm['Private Docker Registry'].isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use non deprecated {{vm.addonsForm.dockerRegistryLogin.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm['Private Docker Registry'].isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr ng-if="vm.addonsForm['Quay.io'].displayName">
                                  <td>{{vm.addonsForm['Quay.io'].displayName}}
                                    <span ng-if="vm.addonsForm['Quay.io'].isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use non deprecated {{vm.addonsForm.quayLogin.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm['Quay.io'].isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.quayLogin.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.quayLogin.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.dockerRegistryLogin.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.dockerRegistryLogin.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                            <!-- end Registries -->
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div><!-- END col-md-12 -->

          <!-- start enable SCMs section -->
          <div class="row">
            <div class="col-md-12">
              <div class="portlet">
                <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#enable-addons-scms">
                  <h3 class="portlet-title text-dark">
                    Source Control Management Providers
                  </h3>
                  <div class="portlet-widgets">
                    <span class="divider"></span>
                    <a data-toggle="collapse" data-target="#enable-addons-scms" class="{{vm.initialized ? 'collapsed' : ''}}"><i class="ion-minus-round cursor-pointer"></i></a>
                  </div>
                  <div class="clearfix"></div>
                </div>

                <div id="enable-addons-scms" class="panel-collapse collapse">
                  <div class="portlet-body">

                    <div class="portlet m-t-30">
                      <div class="row">
                        <div class="col-md-12 col-sm-12">
                          <div class="card-box">
                            <table class="table table-striped m-0">
                              <tbody>
                                <tr>
                                  <td>{{vm.addonsForm.bitbucket.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.bitbucket.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.bitbucketServer.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.bitbucketServer.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.bitbucketServerBasic.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.bitbucketServerBasic.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.github.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.github.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.githubEnterprise.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.githubEnterprise.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.gitlab.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.gitlab.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                            <!-- end scms -->
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div><!-- END col-md-12 -->

          <!-- start enable Others section -->
          <div class="row">
            <div class="col-md-12">
              <div class="portlet">
                <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#enable-addons-others">
                  <h3 class="portlet-title text-dark">
                    Others
                  </h3>
                  <div class="portlet-widgets">
                    <span class="divider"></span>
                    <a data-toggle="collapse" data-target="#enable-addons-others" class="{{vm.initialized ? 'collapsed' : ''}}"><i class="ion-minus-round cursor-pointer"></i></a>
                  </div>
                  <div class="clearfix"></div>
                </div>

                <div id="enable-addons-others" class="panel-collapse collapse">
                  <div class="portlet-body">

                    <div class="portlet m-t-30">
                      <div class="row">
                        <div class="col-md-12 col-sm-12">
                          <div class="card-box">
                            <table class="table table-striped m-0">
                              <tbody>
                                <tr ng-if="vm.addonsForm['pem-key'].displayName">
                                  <td>{{vm.addonsForm['pem-key'].displayName}}
                                    <span ng-if="vm.addonsForm['pem-key'].isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use {{vm.addonsForm.pemKey.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm['pem-key'].isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.pemKey.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.pemKey.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr ng-if="vm.showNewSshKeyInt">
                                  <td>{{vm.addonsForm.sshKey.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.sshKey.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.keyValuePair.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.keyValuePair.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr ng-if="vm.addonsForm['MAZ'].displayName">
                                  <td>{{vm.addonsForm['MAZ'].displayName}}
                                    <span ng-if="vm.addonsForm.MAZ.isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use {{vm.addonsForm.azureKeys.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.MAZ.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr ng-if="vm.addonsForm.GCL.displayName">
                                  <td>{{vm.addonsForm.GCL.displayName}}
                                    <span ng-if="vm.addonsForm.GCL.isDeprecated" title="This integration has been deprecated. New integrations of this type cannot be created anymore. If enabled, existing integrations can continue to be used. Please use {{vm.addonsForm.gcloudKey.displayName}} instead.">(Deprecated)
                                    <span class="glyphicon glyphicon-info-sign"></span></span>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.GCL.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>{{vm.addonsForm.gitCredential.displayName}}</td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.gitCredential.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <!-- clearbit -->
                                <tr ng-if="vm.addonsForm.systemIntegrations.clearbit.isEnabled || (vm.admiralEnv.IS_SERVER === false)">
                                  <td>Clearbit
                                    <input type="text" name="clearbitApiKey"
                                      ng-if="vm.addonsForm.systemIntegrations.clearbit.isEnabled"
                                      class="form-control input-sm m-t-20" placeholder="Your clearbit API key"
                                      ng-model="vm.addonsForm.systemIntegrations.clearbit.data.envs.clearbitApiKey"
                                      ng-disabled="vm.installingAddons"
                                    />
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.systemIntegrations.clearbit.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <!-- intercom -->
                                <tr ng-if="vm.addonsForm.systemIntegrations.intercom.isEnabled || (vm.admiralEnv.IS_SERVER === false)">
                                  <td>Intercom
                                    <input type="text" name="intercomAccessToken"
                                      ng-if="vm.addonsForm.systemIntegrations.intercom.isEnabled"
                                      class="form-control input-sm m-t-20" placeholder="Your intercom access token"
                                      ng-model="vm.addonsForm.systemIntegrations.intercom.data.envs.intercomAccessToken"
                                      ng-disabled="vm.installingAddons"
                                    />
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.systemIntegrations.intercom.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <!-- deploy -->
                                <tr ng-if="vm.addonsForm.systemIntegrations.deploy.isEnabled || (vm.admiralEnv.IS_SERVER === false)">
                                  <td>AWS Deploy Integration
                                    <input type="text" name="deployAccessKey"
                                      ng-if="vm.addonsForm.systemIntegrations.deploy.isEnabled"
                                      class="form-control input-sm m-t-20" placeholder="Your Access Key"
                                      ng-model="vm.addonsForm.systemIntegrations.deploy.data.accessKey"
                                      ng-disabled="vm.installingAddons"
                                    />
                                    <input type="text" name="deploySecretKey"
                                      ng-if="vm.addonsForm.systemIntegrations.deploy.isEnabled"
                                      class="form-control input-sm m-t-20" placeholder="Your Secret Key"
                                      ng-model="vm.addonsForm.systemIntegrations.deploy.data.secretKey"
                                      ng-disabled="vm.installingAddons"
                                    />
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.systemIntegrations.deploy.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <!-- mktgDB -->
                                <tr ng-if="vm.addonsForm.systemIntegrations.mktgDB.isEnabled || (vm.admiralEnv.IS_SERVER === false)">
                                  <td>Mktg DB
                                    <input type="text" name="mktgDBName"
                                      ng-if="vm.addonsForm.systemIntegrations.mktgDB.isEnabled"
                                      class="form-control input-sm m-t-20" placeholder="DB Name"
                                      ng-model="vm.addonsForm.systemIntegrations.mktgDB.data.envs.dbName"
                                      ng-disabled="vm.installingAddons"
                                    />
                                    <input type="text" name="mktgDBUsername"
                                      ng-if="vm.addonsForm.systemIntegrations.mktgDB.isEnabled"
                                      class="form-control input-sm m-t-20" placeholder="DB Username"
                                      ng-model="vm.addonsForm.systemIntegrations.mktgDB.data.envs.dbUsername"
                                      ng-disabled="vm.installingAddons"
                                    />
                                    <input type="text" name="mktgDBPassword"
                                      ng-if="vm.addonsForm.systemIntegrations.mktgDB.isEnabled"
                                      class="form-control input-sm m-t-20" placeholder="DB Password"
                                      ng-model="vm.addonsForm.systemIntegrations.mktgDB.data.envs.dbPassword"
                                      ng-disabled="vm.installingAddons"
                                    />
                                    <input type="text" name="mktgDBHost"
                                      ng-if="vm.addonsForm.systemIntegrations.mktgDB.isEnabled"
                                      class="form-control input-sm m-t-20" placeholder="DB Host"
                                      ng-model="vm.addonsForm.systemIntegrations.mktgDB.data.envs.dbHost"
                                      ng-disabled="vm.installingAddons"
                                    />
                                    <input type="text" name="mktgDBPort"
                                      ng-if="vm.addonsForm.systemIntegrations.mktgDB.isEnabled"
                                      class="form-control input-sm m-t-20" placeholder="DB Port"
                                      ng-model="vm.addonsForm.systemIntegrations.mktgDB.data.envs.dbPort"
                                      ng-disabled="vm.installingAddons"
                                    />
                                    <input type="text" name="mktgDBDialect"
                                      ng-if="vm.addonsForm.systemIntegrations.mktgDB.isEnabled"
                                      class="form-control input-sm m-t-20" placeholder="DB Dialect"
                                      ng-model="vm.addonsForm.systemIntegrations.mktgDB.data.envs.dbDialect"
                                      ng-disabled="vm.installingAddons"
                                    />
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.systemIntegrations.mktgDB.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <!-- payment -->
                                <tr ng-if="vm.addonsForm.systemIntegrations.payment.isEnabled || (vm.admiralEnv.IS_SERVER === false)">
                                  <td>Braintree
                                    <input type="text" name="braintreeMerchantId"
                                      ng-if="vm.addonsForm.systemIntegrations.payment.isEnabled"
                                      class="form-control input-sm m-t-20" placeholder="Merchant ID"
                                      ng-model="vm.addonsForm.systemIntegrations.payment.data.braintreeMerchantId"
                                      ng-disabled="vm.installingAddons"
                                    />
                                    <input type="text" name="braintreePublicKey"
                                      ng-if="vm.addonsForm.systemIntegrations.payment.isEnabled"
                                      class="form-control input-sm m-t-20" placeholder="Public Key"
                                      ng-model="vm.addonsForm.systemIntegrations.payment.data.braintreePublicKey"
                                      ng-disabled="vm.installingAddons"
                                    />
                                    <input type="text" name="braintreePrivateKey"
                                      ng-if="vm.addonsForm.systemIntegrations.payment.isEnabled"
                                      class="form-control input-sm m-t-20" placeholder="Private Key"
                                      ng-model="vm.addonsForm.systemIntegrations.payment.data.braintreePrivateKey"
                                      ng-disabled="vm.installingAddons"
                                    />
                                    <input type="text" name="braintreeEnvironment"
                                      ng-if="vm.addonsForm.systemIntegrations.payment.isEnabled"
                                      class="form-control input-sm m-t-20" placeholder="Environment"
                                      ng-model="vm.addonsForm.systemIntegrations.payment.data.braintreeEnvironment"
                                      ng-disabled="vm.installingAddons"
                                    />
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-disabled="vm.installingAddons"
                                      ng-model="vm.addonsForm.systemIntegrations.payment.isEnabled"
                                      ui-switch="{color: '#00b19d'}"
                                    />
                                  </td>
                                </tr>
                                <tr>
                                  <td>Store build artifacts on AWS S3
                                    <div class="m-t-20" ng-if="vm.installForm.filestore.amazonKeys.isEnabled">
                                      <div class="col-md-12">
                                        <form class="form-horizontal" role="form">
                                          <div class="form-group">
                                            <label class="col-md-2 control-label">Access Key</label>
                                            <div class="col-md-8">
                                              <input type="text" class="form-control input-sm" name="filestoreAccessKey"
                                              ng-model="vm.installForm.filestore.amazonKeys.data.accessKey" ng-disabled="vm.installing || vm.saving"/>
                                            </div>
                                          </div>
                                          <div class="form-group">
                                            <label class="col-md-2 control-label">Secret Key</label>
                                            <div class="col-md-8">
                                              <input type="text" class="form-control input-sm" name="filestoreSecretKey"
                                              ng-model="vm.installForm.filestore.amazonKeys.data.secretKey" ng-disabled="vm.installing || vm.saving"/>
                                            </div>
                                          </div>
                                          <div class="form-group">
                                            <label class="col-md-2 control-label">Root S3 Bucket</label>
                                            <div class="col-md-8">
                                              <input type="text" class="form-control input-sm" name="rootS3Bucket"
                                              ng-model="vm.installForm.systemSettings.rootS3Bucket" ng-disabled="vm.installing || vm.saving"/>
                                            </div>
                                          </div>
                                        </form>
                                      </div>
                                    </div>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-model="vm.installForm.filestore.amazonKeys.isEnabled"
                                      ng-disabled="vm.installing || vm.saving"
                                      ng-change="vm.fileStoreSysIntToggled('amazonKeys')"
                                      ui-switch="{color: '#00b19d'}"/>
                                  </td>
                                </tr>
                                <tr>
                                  <td>Store build artifacts on Google Cloud Storage
                                    <div class="m-t-20" ng-if="vm.installForm.filestore.gcloudKey.isEnabled">
                                      <div class="col-md-12">
                                        <form class="form-horizontal" role="form">
                                          <div class="form-group">
                                            <label class="col-md-2 control-label">JSON key</label>
                                            <div class="col-md-8">
                                              <textarea rows="6" type="text" class="form-control" name="filestoreJsonKey"
                                              ng-model="vm.installForm.filestore.gcloudKey.data.JSON_key" ng-disabled="vm.installing || vm.saving"/>
                                            </div>
                                          </div>
                                          <div class="form-group">
                                            <label class="col-md-2 control-label">Root GCS Bucket</label>
                                            <div class="col-md-8">
                                              <input type="text" class="form-control input-sm" name="rootGCSBucket"
                                              ng-model="vm.installForm.systemSettings.rootGCSBucket" ng-disabled="vm.installing || vm.saving"/>
                                            </div>
                                          </div>
                                        </form>
                                      </div>
                                    </div>
                                  </td>
                                  <td class="text-right">
                                    <input type="checkbox" class="js-switch"
                                      ng-model="vm.installForm.filestore.gcloudKey.isEnabled"
                                      ng-disabled="vm.installing || vm.saving"
                                      ng-change="vm.fileStoreSysIntToggled('gcloudKey')"
                                      ui-switch="{color: '#00b19d'}"/>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div> <!-- end portlet -->

                  </div><!-- END portlet-body -->
                </div><!-- END addons -->
              </div><!-- END portlet -->
            </div><!-- END col-md-12 -->
          </div>
          <button class="btn btn-md btn-primary waves-light m-t-10 pull-right"
            type="button" ng-click="vm.installAddons()"
            ng-disabled="vm.installingAddons">
            <div ng-if="vm.installingAddons">
              Installing...
            </div>
            <div ng-if="!vm.installingAddons">
              Install Add-ons
            </div>
          </button>
          <div class="clearfix"></div>
        </section>

        <!-- end enable addons section -->
      </section>

      <!-- START System Settings -->
      <section id="system" ng-if="vm.sectionSelected === 'system'">
        <div class="row">
          <div class="col-md-12">
            <div class="page-title-box">
              <h4 class="page-title">System Settings</h4>
            </div>
          </div>
        </div>

        <section ng-if="!vm.initialized || !vm.requireRestart">
          <div class="row">
            <div class="col-md-12">
              <div class="card-box">
                <h5 class="text-custom m-t-20 m-b-5">
                  Please configure control plane before changing system settings
                </h5>
              </div>
            </div>
          </div>
        </section>

        <section ng-if="vm.isLoaded && vm.initialized && vm.requireRestart">
          <!-- START Settings -->
          <div class="row">
            <div class="col-md-12">
              <div class="card-box">
                <div class="row">
                  <div class="col-md-3">
                    <h5 class="m-t-20"><b>Run Mode:</b></h5>
                  </div>
                  <div class="col-md-5 m-t-15">
                    <input type="text" class="form-control input-sm" name="runMode"
                      ng-model="vm.installForm.systemSettings.runMode" ng-disabled="vm.installing || vm.saving"/>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-3">
                    <h5 class="m-t-20"><b>Service User Token:</b></h5>
                  </div>
                  <div class="col-md-5 m-t-15">
                    <input type="text" class="form-control input-sm" name="serviceUserToken"
                      ng-model="vm.installForm.systemSettings.serviceUserToken" ng-disabled="true"/>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-3">
                    <h5 class="m-t-20"><b>API Retry Interval:</b></h5>
                  </div>
                  <div class="col-md-5 m-t-15">
                    <input type="text" class="form-control input-sm" name="apiRetryIntervalMS"
                      ng-model="vm.installForm.systemSettings.apiRetryIntervalMS" ng-disabled="vm.installing || vm.saving"/>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-3">
                    <h5 class="m-t-20"><b>Account Sync Frequency (in Hours):</b></h5>
                  </div>
                  <div class="col-md-5 m-t-15">
                    <input type="text" class="form-control input-sm" name="accountSyncFrequencyHr"
                      ng-model="vm.installForm.systemSettings.accountSyncFrequencyHr" ng-disabled="vm.installing || vm.saving"/>
                  </div>
                </div>
                <div class="row m-t-15" ng-if="vm.admiralEnv.IS_SERVER === false">
                  <div class="col-md-12">
                    <div class="toggle-bar">
                      <input type="checkbox" id="checkbox_link_status"
                      ng-model="vm.installForm.systemSettings.technicalSupportAvailable"
                      ng-disabled="vm.installing || vm.saving"
                      class="js-switch" ui-switch="{color: '#00b19d'}"/>
                      <label for="checkbox_link_status"><b>Show Link to Shippable Status</b></label>
                    </div>
                  </div>
                </div>
                <div class="row" ng-if="vm.admiralEnv.IS_SERVER === false &&
                  vm.installForm.systemSettings.technicalSupportAvailable">
                  <div class="col-md-3">
                    <h5 class="m-t-20"><b>Support Email: </b></h5>
                  </div>
                  <div class="col-md-5 m-t-15">
                    <input type="text" class="form-control input-sm" name="supportEmailAddress"
                      ng-model="vm.installForm.systemSettings.supportEmailAddress"
                      ng-disabled="vm.installing || vm.saving"/>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-3">
                    <h5 class="m-t-20"><b>Root Queue List:</b></h5>
                  </div>
                  <div class="col-md-5 m-t-15">
                    <input type="text" class="form-control input-sm" name="msgRootQueueList"
                      ng-model="vm.installForm.msg.rabbitmqCreds.data.rootQueueList"
                      ng-disabled="vm.installing || vm.saving"/>
                  </div>
                </div>
              </div>
            </div>
          </div><!-- END ROW -->
          <!-- END Settings -->

          <div class="row">
            <div class="col-md-12">
              <div class="card-box">
                <div class="row">
                  <div class="col-md-2">
                    <h5 class="m-t-20"><b>Installer Access Key:</b></h5>
                  </div>
                  <div class="col-md-5 m-t-15">
                    <input type="text" class="form-control input-sm" name="installerAccessKey" placeholder="Access Key (Optional)" ng-disabled="vm.initializing"
                    ng-model="vm.initializeForm.installerAccessKey"/>
                  </div>
                  <div class="col-md-4 m-t-20">
                    <a href="http://www.shippable.com/contact.html" target="_blank">Contact us to obtain your keys</a>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-2">
                    <h5 class="m-t-20"><b>Installer Secret Key:</b></h5>
                  </div>
                  <div class="col-md-5 m-t-15">
                    <input type="text" class="form-control input-sm" name="installerSecretKey" placeholder="Secret Key (Optional)" ng-disabled="vm.initializing"
                    ng-model="vm.initializeForm.installerSecretKey"/>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-2">
                    <h5 class="m-t-20"><b>Admiral Environment:</b></h5>
                  </div>
                  <div class="col-md-10 m-t-15">
                    <button class="btn btn-sm btn-default" ng-click="vm.showAdmiralEnvModal()">Config</button>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12 text-right">
                    <button class="btn btn-md btn-primary waves-light" ng-click="vm.showApplyChangesModal()"
                      ng-disabled="vm.initializing || (vm.initializeForm.secrets.initType === 'new' && !vm.initializeForm.secrets.confirmCommand) || (vm.initializeForm.msg.initType === 'new' && !vm.initializeForm.msg.confirmCommand) || (vm.initializeForm.state.initType === 'new' && !vm.initializeForm.state.confirmCommand) || (vm.initializeForm.redis.initType === 'new' && !vm.initializeForm.redis.confirmCommand) || (vm.initializeForm.workers.workers.length && !vm.initializeForm.workers.confirmCommand) || vm.installing || vm.saving || vm.restartingServices || vm.disableSave">
                        <div ng-if="vm.initializing || vm.installing || vm.saving || vm.restartingServices">Applying...</div>
                        <div ng-if="!vm.initializing && !vm.installing && !vm.saving && !vm.restartingServices">Apply</div>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- START TLS -->
          <div class="row">
            <div class="col-md-12">
              <div class="card-box">
                <div class="toggle-bar">
                  <input type="checkbox" id="checkbox_tls"
                    ng-model="vm.installForm.ignoreTLSErrors"
                    ng-disabled="vm.installing || vm.saving"
                    class="js-switch" ui-switch="{color: '#00b19d'}"/>
                  <label for="checkbox_tls"><b>Ignore TLS Errors (optional)</b></label>
                </div>
                <div class="row">
                  <div class="col-md-6" ng-if="vm.installForm.ignoreTLSErrors">
                    <dd class="text-danger">
                      <span>WARNING: Enabling this flag will skip TLS certificate checks for all Shippable services.
                          This is an insecure configuration and should only be used in trusted networks.
                          Scenarios for using this setting include enterprise SCM installation in a private network with custom SSL certificate.
                      </span>
                    </dd>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- END TLS -->

          <!-- START AUTO-SYNC -->
          <div class="row">
            <div class="col-md-12">
              <div class="card-box">
                <div class="toggle-bar">
                  <input type="checkbox" id="checkbox_sync"
                    ng-model="vm.installForm.systemSettings.autoSync"
                    ng-disabled="vm.updatingAutoSync"
                    ng-change="vm.updateAutoSync()"
                    class="js-switch" ui-switch="{color: '#00b19d'}"/>
                  <label for="checkbox_sync"><b>Automatically synchronize SCM (optional)</b></label>
                </div>
              </div>
            </div>
          </div>
          <!-- END AUTO-SYNC -->

          <!-- START Manage System Superusers -->
          <div class="row">
            <div class="col-md-12">
              <div class="portlet">
                <div data-toggle="collapse" class="portlet-heading cursor-pointer" data-target="#systemSuperusers">
                  <h3 class="portlet-title text-dark">
                    Manage System Superusers
                  </h3>
                  <div class="portlet-widgets">
                    <a data-toggle="collapse" data-target="#systemSuperusers" class="{{vm.initialized ? 'collapsed' : ''}}"><i class="ion-minus-round cursor-pointer"></i></a>
                  </div>
                  <div class="clearfix"></div>
                </div>
                <div id="systemSuperusers" class="panel-collapse collapse">
                  <div class="portlet-body">
                    <div class="row">
                      <div class="col-md-12">
                        <h5 class="m-t-20"><b>Add superUser:</b></h5>
                      </div>
                      <div class="col-md-2">
                        <h5 class="m-t-20"><b>Account ID:</b></h5>
                      </div>
                      <div class="col-md-4 m-t-15">
                        <input type="text" class="form-control input-sm" name="superUserAccountID" placeholder="abcdef0123456789abcdef01"
                        ng-model="vm.superUsers.newSuperUser" ng-disabled="vm.superUsers.addingSuperUser"/>
                      </div>
                      <div class="col-md-4 m-t-15">
                        <button class="btn btn-primary" ng-click="vm.addSuperUser()" ng-disabled="vm.superUsers.addingSuperUser">
                          Add
                        </button>
                      </div>
                    </div><!-- END row -->
                    <div class="row">
                      <div class="col-md-2">
                        <h5 class="m-t-20"><b>Current SuperUsers:</b></h5>
                      </div>
                      <div class="col-md-10 m-t-15">
                        <div ng-if="!vm.superUsers.superUsers.length">
                          <i>No current SuperUsers</i>
                        </div>
                        <div class="row m-t-10" ng-repeat="superUser in vm.superUsers.superUsers" ng-if="vm.superUsers.superUsers.length">
                          <div class="col-md-3">
                            <p class="m-t-5">{{superUser}}</p>
                          </div>
                          <div class="col-md-9">
                            <button class="btn btn-danger btn-sm" ng-click="vm.removeSuperUser(superUser)" ng-disabled="vm.superUsers.deletingSuperUser">
                              Remove
                            </button>
                          </div>
                        </div>
                      </div><!-- END row -->
                    </div><!-- END row -->
                  </div><!-- END portlet-body -->
                </div><!-- END systemSuperusers -->
                <!-- END ROW -->
              </div><!-- END portlet -->
            </div><!-- END col-md-12 -->
          </div><!-- END ROW -->
          <!-- END Manage System Superusers -->

          <!-- Save and Restart Buttons on System Settings-->
          <div class="row">
            <div class="col-md-12 text-right">
              <button class="btn btn-md btn-primary waves-light" type="submit" ng-click="vm.showSaveAndRestartModal()"
                ng-disabled="vm.installing || vm.saving || vm.restartingServices || vm.disableSave">
                <div ng-if="vm.saving">
                  Saving...
                </div>
                <div ng-if="vm.restartingServices">
                  Restarting...
                </div>
                <div ng-if="!vm.saving && !vm.restartingServices">
                  Save & Restart Services
                </div>
              </button>
            </div>
          </div>

        </section><!-- if loaded -->
      </section>
      <!-- END System Settings -->

    </div>
    <!-- end container -->

  </div>
  <!-- end content -->

  <!-- FOOTER -->
  <footer class="footer text-right">
  2019 © Shippable.
  </footer>
  <!-- End FOOTER -->

</div>

<!-- Save and Restart Modal -->
<div class="modal fade" id="save-restart-modal"
  tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"
          aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">
          Save & Restart Services
        </h4>
      </div>
      <div class="modal-body">
        <div>
          Are you sure you want to save and restart services?
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-md btn-primary" type="submit" ng-click="vm.saveAndRestart()">
          Yes
        </button>
        <button class="btn btn-md btn-default" type="button" class="close" data-dismiss="modal">
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="remove-smi-modal"
  tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"
          aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">
          Remove SMI {{vm.selectedSMI.name}}?
        </h4>
      </div>
      <div class="modal-body">
        <div>
          Are you sure you want to remove SMI {{vm.selectedSMI.name}}?
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-md btn-primary" type="submit" ng-click="vm.removeSystemMachineImage(vm.selectedSMI)">
          Yes
        </button>
        <button class="btn btn-md btn-default" type="button" class="close" data-dismiss="modal">
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="applyModal"
  tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"
          aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">
          Apply Changes
        </h4>
      </div>
      <div class="modal-body">
        <div>
          Are you sure you want to apply changes?
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-md btn-primary" type="submit" ng-click="vm.apply()">
          Yes
        </button>
        <button class="btn btn-md btn-default" type="button" class="close" data-dismiss="modal">
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>

<!-- START Configs Modal -->
<div class="modal fade" id="configsModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"
          aria-label="Close">
        <span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">{{vm.selectedService.displayName}} Status</h4>
      </div>
      <div class="modal-body">
        <table class="table table-condensed" style="width: 100%">
          <!-- <thead>
            <tr>
              <th></th>
              <th></th>
            </tr>
          </thead> -->
          <tbody>
            <tr ng-repeat="config in vm.selectedService.configs">
              <td>
                <b>{{config.key}}:</b>
              </td>
              <td class="wrap-text" style="word-wrap: break-word; word-break: break-all;">
                {{config.value}}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
      </div>
    </div>
  </div>
</div>
<!-- END Configs Modal -->

<!-- START SMI Edit Modal -->
<div class="modal fade" id="smi-edit-modal"
  tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"
          aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title" ng-if="vm.selectedSMI.id">
          Update your machine image settings:
        </h4>
        <h4 class="modal-title" ng-if="!vm.selectedSMI.id">
          Add New System Machine Image
        </h4>
      </div>
      <div class="modal-body">
        <form class="form-horizontal" role="form" novalidate>
          <div class="form-group">
            <label class="col-md-3 control-label">Name</label>
            <div class="col-md-9" ng-class="vm.selectedSMI.name ? '' : 'has-error'">
              <input type="text" class="form-control" name="Name"
              ng-model="vm.selectedSMI.name" ng-disabled="vm.installing || vm.saving"/>
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-3 control-label">Description</label>
            <div class="col-md-9" ng-class="vm.selectedSMI.description ? '' : 'has-error'">
              <input type="text" class="form-control" name="Description"
              ng-model="vm.selectedSMI.description" ng-disabled="vm.installing || vm.saving"/>
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-3 control-label">Architecture</label>
            <div class="col-md-9">
              <select class="form-control"
                ng-model="vm.selectedSMI.archTypeCode"
                ng-init="vm.selectedSMI.archTypeCode = vm.selectedSMI.archTypeCode || vm.archTypes[0].code"
                ng-change="vm.computeOs()"
                ng-options="arch.code as arch.name for arch in vm.archTypes">
              </select>
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-3 control-label">OS</label>
            <div class="col-md-9">
              <select class="form-control"
                ng-model="vm.selectedSMI.osTypeCode"
                ng-init="vm.selectedSMI.osTypeCode"
                ng-disabled="!vm.selectedSMI.archTypeCode"
                ng-change="vm.computeRuntimeTemplateId()"
                ng-options="os.code as os.name for os in vm.supportedOsTypes">
              </select>
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-3 control-label">Runtime Version</label>
            <div class="col-md-9">
              <select class="form-control"
                ng-model="vm.selectedSMI.runtimeTemplateId"
                ng-init="vm.selectedSMI.runtimeTemplateId"
                ng-disabled="!vm.selectedSMI.archTypeCode || !vm.selectedSMI.osTypeCode"
                ng-options="runtimeTemplate.id  as runtimeTemplate.version for runtimeTemplate in vm.supportedRuntimeTemplates">
              </select>
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-3 control-label">
              Shippable AMI ID
                <span title="Please click here to see the list of all the ami with their versions">
                  <a target="_blank" href="http://docs.shippable.com/platform/runtime/machine-image/ami-overview/" style="color: #606060;">
                    <span class="glyphicon glyphicon-info-sign"></span>
                  </a>
              </span>
            </label>
            <div class="col-md-9" ng-class="vm.selectedSMI.externalId ? '' : 'has-error'">
              <input type="text" class="form-control" name="ExternalId"
              ng-model="vm.selectedSMI.externalId" ng-disabled="vm.installing || vm.saving"/>
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-3 control-label">Provider</label>
            <div class="col-md-9" ng-class="vm.selectedSMI.provider ? '' : 'has-error'">
              <select class="form-control" ng-model="vm.selectedSMI.provider"
                ng-options="provider.name as provider.displayName for provider in vm.providers">
              </select>
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-3 control-label">Region</label>
            <div class="col-md-9" ng-class="vm.selectedSMI.region ? '' : 'has-error'">
              <input type="text" class="form-control" name="Region"
              ng-model="vm.selectedSMI.region" ng-disabled="vm.installing || vm.saving"/>
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-3 control-label">Key Pair Name</label>
            <div class="col-md-9" ng-class="vm.selectedSMI.keyName ? '' : 'has-error'">
              <input type="text" class="form-control" name="KeyName"
              ng-model="vm.selectedSMI.keyName" ng-disabled="vm.installing || vm.saving"/>
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-3 control-label">Security Group ID</label>
            <div class="col-md-9" ng-class="vm.selectedSMI.securityGroup ? '' : 'has-error'">
              <input type="text" class="form-control" name="SecurityGroup"
              ng-model="vm.selectedSMI.securityGroup" ng-disabled="vm.installing || vm.saving"/>
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-3 control-label">Subnet ID</label>
            <div class="col-md-9">
              <input type="text" class="form-control" name="SubnetId"
              ng-model="vm.selectedSMI.subnetId" ng-disabled="vm.installing || vm.saving"/>
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-3 control-label">Private Subnet ID</label>
            <div class="col-md-9">
              <input type="text" class="form-control" name="PrivateSubnetId"
              ng-model="vm.selectedSMI.privateSubnetId" ng-disabled="vm.installing || vm.saving"/>
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-3 control-label">Public NAT IP</label>
            <div class="col-md-9">
              <input type="text" class="form-control" name="PublicNatIp"
              ng-model="vm.selectedSMI.publicNatIp" ng-disabled="vm.installing || vm.saving"/>
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-3 control-label">SSH User</label>
            <div class="col-md-9" ng-class="vm.selectedSMI.sshUser ? '' : 'has-error'">
              <input type="text" class="form-control" name="SSHUser"
              ng-model="vm.selectedSMI.sshUser" ng-disabled="vm.installing || vm.saving"/>
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-3 control-label">SSH Port</label>
            <div class="col-md-9" ng-class="vm.selectedSMI.sshPort ? '' : 'has-error'">
              <input type="text" class="form-control" name="vm.selectedSMI{{$index}}SSHPort"
              ng-model="vm.selectedSMI.sshPort" ng-disabled="vm.installing || vm.saving"/>
            </div>
          </div>
          <div class="row">
            <div class="pull-right">
              <button class="btn btn-sm btn-primary" ng-if="!vm.selectedSMI.id"
                ng-click="vm.createSystemMachineImage(vm.selectedSMI)"
                ng-disabled="!vm.validSMI(vm.selectedSMI)">Create</button>
              <button class="btn btn-sm btn-primary"
                ng-click="vm.updateSystemMachineImage(vm.selectedSMI)" ng-if="vm.selectedSMI.id">Save</button>
              <button class="btn btn-sm btn-default" data-dismiss="modal">Cancel</button>
            </div>
          </div>
          <hr/>
        </form>
      </div>
    </div>
  </div>
</div>
<!-- END SMI Edit Modal -->

<!-- START Logs Modal -->
<div class="modal fade" id="logsModal"
  tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"
          aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">
          {{vm.selectedService.displayName}} Logs
          <button class="btn btn-sm btn-default" ng-click="vm.refreshLogs()">
            Refresh
          </button>
        </h4>
      </div>
      <div class="modal-body ship-console">
        <div class="ship-console-command-line" ng-repeat="log in vm.selectedService.logs track by $index">
          {{log}}
        </div>
      </div>
      <div class="modal-footer">
      </div>
    </div>
  </div>
</div>
<!-- END Logs Modal -->

<!-- START Install Location Node Modal for MSG -->
<div id="msg-location-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog">
        <div class="modal-content" style="background-color: #f7f7f7">
            <div class="modal-header">
                <button ng-click="vm.resetInstallLocationModal('msg')" type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">Add Node details for RabbitMQ</h4>
            </div>
            <div class="modal-body">
              <div class="card-box" ng-if="vm.initializeForm.msg.initType === 'new'">
                <div class="row">
                    <div class="col-md-12">
                      <div class="radio radio-primary m-t-0 m-b-20">
                          <input type="radio" value="new" name="install_location_rabbit_new_node" id="install_location_rabbit_new_node"
                             ng-model="vm.initializeForm.msg.initType">
                          <label for="install_location_rabbit_new_node" class="control-label">New Node</label>
                      </div>
                    </div>
                  </div>

                  <div class="row" id="new">
                    <div>
                      <div class="col-md-6">
                        <div class="form-group">
                          <span class="text-dark" ng-if="vm.initializeForm.msg.initType !== 'new'">Choose a password for RabbitMQ:</span>
                          <span ng-if="vm.initializeForm.msg.initType === 'new'">RabbitMQ Password:</span>
                          <div ng-class="vm.validatePassword(vm.initializeForm.msg.password)">
                            <input type="text" class="form-control input-sm" name="msgPassword"
                            ng-model="vm.initializeForm.msg.password" placeholder="8 or more characters" ng-disabled="vm.systemSettings.msg.isInitialized || vm.initializing"/>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group">
                          <span class="text-dark">IP address to install RabbitMQ:</span>
                          <div ng-class="vm.validateIP(vm.initializeForm.msg.address)">
                            <input type="text" class="form-control input-sm" name="msgAddress" placeholder="0.0.0.0" ng-disabled="vm.systemSettings.msg.isInitialized || vm.initializing"
                            ng-model="vm.initializeForm.msg.address"/>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <span class="text-dark">Please run this command on your node to authorize SSH access:</span>
                            <div class="ss-action"></div>
                            <div class="ship-console" style="word-break: break-all;"
                              id="copy-input-msg">
                              {{vm.initializeForm.sshCommand}}
                            </div>
                            <div class="text-right m-t-5 m-r-5">
                              <a href="" id="copy" data-clipboard-target="#copy-input-msg"
                                ng-click="vm.copyToClipboard()">
                                <i class="fa fa-copy text-primary m-r-5"></i>{{vm.copyText}}
                              </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                      <div class="checkbox checkbox-success m-t-0" ng-class="vm.initializeForm.msg.confirmCommand ? '' : 'has-error'">
                        <div class="checkbox">
                          <input id="checkbox_confirmCommand" type="checkbox" ng-model="vm.initializeForm.msg.confirmCommand"/>
                          <label for="checkbox_confirmCommand">Click here once you have run the above command on your node</label>
                        </div>
                      </div>
                    </div>
                </div>

              </div>
              <div class="card-box" ng-if="vm.initializeForm.msg.initType === 'existing'">
                <div class="row">
                  <div class="col-md-12">
                    <div class="radio radio-primary m-t-0 m-b-20">
                        <input type="radio" name="existing_msg" id="existing_msg"
                          value="existing" ng-model="vm.initializeForm.msg.initType">
                        <label class="control-label" for="existing_msg"
                          value="existing" ng-model="vm.initializeForm.msg.initType">
                          Existing Node
                        </label>
                    </div>
                  </div>

                  <div class="row" id="existing">
                    <div class="col-md-6">
                        <div class="form-group">
                            <span class="text-dark">RabbitMQ Username:</span>
                            <div ng-class="vm.initializeForm.msg.username.length ? '' : 'has-error'">
                              <input type="text" class="form-control input-sm" name="msgUsername"
                                ng-model="vm.initializeForm.msg.username" placeholder="username"
                                ng-disabled="vm.systemSettings.msg.isInitialized || vm.initializing"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <span class="text-dark" ng-if="vm.initializeForm.msg.initType !== 'existing'">Choose a password for RabbitMQ:</span>
                            <span ng-if="vm.initializeForm.msg.initType === 'existing'">RabbitMQ Password:</span>
                            <div ng-class="vm.validatePassword(vm.initializeForm.msg.password)">
                              <input type="text" class="form-control input-sm" name="msgPassword"
                                ng-model="vm.initializeForm.msg.password" placeholder="8 or more characters"
                                ng-disabled="vm.systemSettings.msg.isInitialized || vm.initializing"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-11">
                        <div class="form-group">
                            <span class="text-dark">IP address of your existing RabbitMQ installation:</span>
                            <div ng-class="vm.validateIP(vm.initializeForm.msg.address)">
                              <input type="text" class="form-control input-sm" name="msgAddress" placeholder="0.0.0.0"
                                ng-disabled="vm.systemSettings.msg.isInitialized || vm.initializing"
                                ng-model="vm.initializeForm.msg.address"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="field-2">Protocol used to connect to your RabbitMQ installation:</label>
                            <div>
                              <span>
                                <input type="radio" ng-model="vm.initializeForm.msg.isSecure" ng-value=false
                                ng-disabled="vm.systemSettings.msg.isInitialized || vm.initializing">
                                amqp
                              </span>
                              <span>
                                <input type="radio" ng-model="vm.initializeForm.msg.isSecure"
                                ng-disabled="vm.systemSettings.msg.isInitialized || vm.initializing" ng-value=true>
                                amqps
                              </span>
                            </div>
                        </div>
                    </div>
                  </div>

                </div>
              </div>
            </div>
            <div class="col-md-12">
              <span ng-if="vm.msgModalErrorMsg" ng-model="vm.msgModalErrorMsg"><code>Kindly fill in all the details.</code></span>
            </div>
            <div class="modal-footer">
                <button type="button" ng-click="vm.resetInstallLocationModal('msg')" class="btn btn-default waves-effect" data-dismiss="modal" aria-hidden="true">Close</button>
                <button type="button" class="btn btn-primary waves-effect waves-light" name="msg_save_location" ng-click="vm.saveInstallLocationModal('msg')">
                  Save changes
                </button>
            </div>
        </div>
    </div>
</div><!-- /.modal -->
<!-- END Install Location Node Modal -->

<!-- START Install Location Node Modal for SECRETS -->
<div id="secrets-location-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabelSecrets" aria-hidden="true" style="display: none;">
    <div class="modal-dialog">
        <div class="modal-content" style="background-color: #f7f7f7">
            <div class="modal-header">
                <button ng-click="vm.resetInstallLocationModal('secrets')" type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">Add Node details for Secrets</h4>
            </div>
            <div class="modal-body">
              <div class="card-box" ng-if="vm.initializeForm.secrets.initType === 'new'">
                <div class="row">
                    <div class="col-md-12">
                      <div class="radio radio-primary m-t-0 m-b-20">
                          <input id="secrets_install_on_new_node" type="radio" value="new"
                             ng-model="vm.initializeForm.secrets.initType">
                          <label for="secrets_install_on_new_node" class="control-label">New Node</label>
                      </div>
                    </div>
                  </div>

                  <div class="row" id="new">
                    <div class="col-md-12">
                        <div class="form-group">
                            <span class="text-dark">IP address to install Secrets:</span>
                            <div ng-class="vm.validateIP(vm.initializeForm.secrets.address)">
                              <input type="text" class="form-control input-sm" name="secretsAddress" placeholder="0.0.0.0"
                                ng-disabled="vm.systemSettings.secrets.isInitialized || vm.initializing"
                                ng-model="vm.initializeForm.secrets.address"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <span class="text-dark">Please run this command on your node to authorize SSH access:</span>
                            <div class="ss-action"></div>
                            <div class="ship-console" style="word-break: break-all;"
                              id="copy-input-secrets">
                              {{vm.initializeForm.sshCommand}}
                            </div>
                            <div class="text-right m-t-5 m-r-5">
                              <a href="" id="copy" data-clipboard-target="#copy-input-secrets"
                                ng-click="vm.copyToClipboard()">
                                <i class="fa fa-copy text-primary m-r-5"></i>{{vm.copyText}}
                              </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                      <div class="checkbox checkbox-success m-t-0" ng-class="vm.initializeForm.secrets.confirmCommand ? '' : 'has-error'">
                        <div class="checkbox">
                          <input id="checkbox_confirmCommand" type="checkbox" ng-model="vm.initializeForm.secrets.confirmCommand"/>
                          <label for="checkbox_confirmCommand">Click here once you have run the above command on your node</label>
                        </div>
                      </div>
                    </div>
                </div>

              </div>
              <div class="card-box" ng-if="vm.initializeForm.secrets.initType === 'existing'">
                <div class="row">
                  <div class="col-md-12">
                    <div class="radio radio-primary m-t-0 m-b-20">
                        <input type="radio" id="secrets_install_on_existing_node"
                          value="existing" ng-model="vm.initializeForm.secrets.initType">
                        <label for="secrets_install_on_existing_node" class="control-label">
                          Existing Node
                        </label>
                    </div>
                  </div>

                  <div class="row" id="existing">
                    <div class="col-md-12">
                        <div class="form-group">
                            <span class="text-dark">IP address of your existing Secrets installation:</span>
                            <div ng-class="vm.validateIP(vm.initializeForm.secrets.address)">
                              <input type="text" class="form-control input-sm" name="secretsAddress" placeholder="0.0.0.0"
                                ng-disabled="vm.systemSettings.secrets.isInitialized || vm.initializing"
                                ng-model="vm.initializeForm.secrets.address"/>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="form-group">
                            <span class="text-dark">Root token for your Secrets installation:</span>
                            <div ng-class="vm.initializeForm.secrets.rootToken.length ? '' : 'has-error'">
                              <input type="text" class="form-control input-sm" name="secretsRootToken" placeholder="root token"
                                ng-disabled="vm.initializing"
                                ng-model="vm.initializeForm.secrets.rootToken"/>
                            </div>
                        </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-12">
                <span ng-if="vm.secretsModalErrorMsg" ng-model="vm.secretsModalErrorMsg"><code>Kindly fill in all the details.</code></span>
              </div>

            </div>
            <div class="modal-footer">
                <button type="button" ng-click="vm.resetInstallLocationModal('secrets')" class="btn btn-default waves-effect" data-dismiss="modal" aria-hidden="true">Close</button>
                <button type="button" class="btn btn-primary waves-effect waves-light" name="secrets_save_location"
                  ng-click="vm.saveInstallLocationModal('secrets')">
                  Save changes
                </button>
            </div>
        </div>
    </div>
</div><!-- /.modal -->
<!-- END Install Location Node Modal for SECRETS-->

<!-- START Install Location Node Modal for STATE -->
<div id="state-location-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog">
        <div class="modal-content" style="background-color: #f7f7f7">
            <div class="modal-header">
                <button ng-click="vm.resetInstallLocationModal('state')" type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">Add Node details for State</h4>
            </div>
            <div class="modal-body">
              <div class="card-box" ng-if="vm.initializeForm.state.initType === 'new'">
                <div class="row">
                  <div class="col-md-12">
                    <div class="radio radio-primary m-t-0 m-b-20">
                      <input type="radio" value="new" id="state_install_on_new_node"
                         ng-model="vm.initializeForm.state.initType">
                      <label for="state_install_on_new_node" class="control-label">New Node</label>
                    </div>
                  </div>
                </div>

                  <div class="row" id="new">
                    <div class="col-md-6">
                      <div class="form-group">
                        <span class="text-dark" ng-if="vm.initializeForm.state.initType !== 'existing'">Choose a password for State:</span>
                        <div ng-class="vm.validatePassword(vm.initializeForm.state.rootPassword)">
                          <input type="text" class="form-control input-sm" name="statePassword"
                            ng-model="vm.initializeForm.state.rootPassword" placeholder="8 or more characters"
                            ng-disabled="vm.systemSettings.state.isInitialized || vm.initializing"/>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <span class="text-dark">IP address to install State:</span>
                        <div ng-class="vm.validateIP(vm.initializeForm.state.address)">
                          <input type="text" class="form-control input-sm" name="stateAddress" placeholder="0.0.0.0"
                            ng-disabled="vm.systemSettings.state.isInitialized || vm.initializing"
                            ng-model="vm.initializeForm.state.address"/>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <span class="text-dark">Please run this command on your node to authorize SSH access:</span>
                            <div class="ss-action"></div>
                            <div class="ship-console" style="word-break: break-all;"
                              id="copy-input-state">
                              {{vm.initializeForm.sshCommand}}
                            </div>
                            <div class="text-right m-t-5 m-r-5">
                              <a href="" id="copy" data-clipboard-target="#copy-input-state"
                                ng-click="vm.copyToClipboard()">
                                <i class="fa fa-copy text-primary m-r-5"></i>{{vm.copyText}}
                              </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                      <div class="checkbox checkbox-success m-t-0" ng-class="vm.initializeForm.state.confirmCommand ? '' : 'has-error'">
                        <div class="checkbox">
                          <input id="checkbox_confirmCommand" type="checkbox" ng-model="vm.initializeForm.state.confirmCommand"/>
                          <label for="checkbox_confirmCommand">Click here once you have run the above command on your node</label>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              <div class="card-box" ng-if="vm.initializeForm.state.initType === 'existing'">
                <div class="row">
                  <div class="col-md-12">
                    <div class="radio radio-primary m-t-0 m-b-20">
                        <input type="radio" id="state_install_on_existing_node"
                          value="existing" ng-model="vm.initializeForm.state.initType">
                        <label class="control-label" for="state_install_on_existing_node"
                          value="existing" ng-model="vm.initializeForm.state.initType">
                          Existing Node
                        </label>
                    </div>
                  </div>

                  <div class="row" id="existing">
                    <div class="col-md-11">
                        <div class="form-group">
                            <span class="text-dark" ng-if="vm.initializeForm.state.initType !== 'existing'">Choose a password for State:</span>
                            <span ng-if="vm.initializeForm.state.initType === 'existing'">Password for State root user:</span>
                            <div ng-class="vm.validatePassword(vm.initializeForm.state.rootPassword)">
                              <input type="text" class="form-control input-sm" name="statePassword"
                                ng-model="vm.initializeForm.state.rootPassword" placeholder="8 or more characters"
                                ng-disabled="vm.systemSettings.state.isInitialized || vm.initializing"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-11">
                        <div class="form-group">
                            <span class="text-dark">IP address of your existing State installation:</span>
                            <div ng-class="vm.validateIP(vm.initializeForm.state.address)">
                              <input type="text" class="form-control input-sm" name="stateAddress" placeholder="0.0.0.0"
                                ng-disabled="vm.systemSettings.state.isInitialized || vm.initializing"
                                ng-model="vm.initializeForm.state.address"/>
                            </div>
                        </div>
                    </div>
                  </div>

                </div>
              </div>
            </div>
            <div class="col-md-12">
              <span ng-if="vm.stateModalErrorMsg" ng-model="vm.stateModalErrorMsg"><code>Kindly fill in all the details correctly.</code></span>
            </div>
            <div class="modal-footer">
              <button type="button" ng-click="vm.resetInstallLocationModal('state')" class="btn btn-default waves-effect" data-dismiss="modal" aria-hidden="true">Close</button>
              <button type="button" class="btn btn-primary waves-effect waves-light" name="state_save_location"
                ng-click="vm.saveInstallLocationModal('state')">
                Save changes
              </button>
            </div>
        </div>
    </div>
</div><!-- /.modal -->
<!-- END STATE Install Location Node Modal -->

<!-- START Install Location Node Modal for REDIS -->
<div id="redis-location-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabelRedis" aria-hidden="true" style="display: none;">
    <div class="modal-dialog">
        <div class="modal-content" style="background-color: #f7f7f7">
            <div class="modal-header">
                <button ng-click="vm.resetInstallLocationModal('redis')" type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">Add Node details for Redis</h4>
            </div>
            <div class="modal-body">
              <div class="card-box" ng-if="vm.initializeForm.redis.initType === 'new'">
                <div class="row">
                  <div class="col-md-12">
                    <div class="radio radio-primary m-t-0 m-b-20">
                      <input id="redis_install_on_new_node" type="radio" value="new"
                         ng-model="vm.initializeForm.redis.initType">
                      <label for="redis_install_on_new_node" class="control-label">New Node</label>
                    </div>
                  </div>
                </div>

                  <div class="row" id="new">
                    <div class="col-md-12">
                      <div class="form-group">
                        <span class="text-dark">IP address to install Redis:</span>
                        <div ng-class="vm.validateIP(vm.initializeForm.redis.address)">
                          <input type="text" class="form-control input-sm" name="redisAddress" placeholder="0.0.0.0"
                            ng-disabled="vm.systemSettings.redis.isInitialized || vm.initializing"
                            ng-model="vm.initializeForm.redis.address"/>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="form-group">
                        <span class="text-dark">Please run this command on your node to authorize SSH access:</span>
                        <div class="ss-action"></div>
                        <div class="ship-console" style="word-break: break-all;"
                          id="copy-input-redis">
                          {{vm.initializeForm.sshCommand}}
                        </div>
                        <div class="text-right m-t-5 m-r-5">
                          <a href="" id="copy" data-clipboard-target="#copy-input-redis"
                            ng-click="vm.copyToClipboard()">
                            <i class="fa fa-copy text-primary m-r-5"></i>{{vm.copyText}}
                          </a>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="checkbox checkbox-success m-t-0" ng-class="vm.initializeForm.redis.confirmCommand ? '' : 'has-error'">
                        <div class="checkbox">
                          <input id="checkbox_confirmCommand" type="checkbox" ng-model="vm.initializeForm.redis.confirmCommand"/>
                          <label for="checkbox_confirmCommand">Click here once you have run the above command on your node</label>
                        </div>
                      </div>
                    </div>
                </div>

              </div>
              <div class="card-box" ng-if="vm.initializeForm.redis.initType === 'existing'">
                <div class="row">
                  <div class="col-md-12">
                    <div class="radio radio-primary m-t-0 m-b-20">
                      <input type="radio" id="redis_install_on_existing_node"
                        value="existing" ng-model="vm.initializeForm.redis.initType">
                      <label for="redis_install_on_existing_node" class="control-label">
                        Existing Node
                      </label>
                    </div>
                  </div>

                  <div class="row" id="existing">
                    <div class="col-md-12">
                      <div class="form-group">
                        <span class="text-dark">IP address of your existing Redis installation:</span>
                        <div ng-class="vm.validateIP(vm.initializeForm.redis.address)">
                          <input type="text" class="form-control input-sm" name="redisAddress" placeholder="0.0.0.0"
                            ng-disabled="vm.systemSettings.redis.isInitialized || vm.initializing"
                            ng-model="vm.initializeForm.redis.address"/>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-12">
                <span ng-if="vm.redisModalErrorMsg" ng-model="vm.redisModalErrorMsg"><code>Kindly fill in all the details.</code></span>
              </div>

            </div>
            <div class="modal-footer">
              <button type="button" ng-click="vm.resetInstallLocationModal('redis')" class="btn btn-default waves-effect" data-dismiss="modal" aria-hidden="true">Close</button>
              <button type="button" class="btn btn-primary waves-effect waves-light" name="redis_save_location"
                ng-click="vm.saveInstallLocationModal('redis')">
                Save changes
              </button>
            </div>
        </div>
    </div>
</div><!-- /.modal -->
<!-- END Install Location Node Modal for REDIS -->

<!-- EULA Modal -->
<div class="modal fade" id="eulaModal" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-wide" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"
          aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">
          Shippable Server License Agreement
        </h4>
      </div>
      <div class="modal-body ship-eula-text">
        </pre>{{vm.eulaText}}</pre>
      </div>
      <div class="modal-footer">
        <button class="btn btn-md btn-default" type="button" data-dismiss="modal">
          OK
        </button>
      </div>
    </div>
  </div>
</div>
